

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developer API &mdash; omega|ml 1.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="omega|ml 1.1 documentation" href="../index.html"/>
        <link rel="up" title="Reference" href="index.html"/>
        <link rel="next" title="Tutorial Notebooks" href="../nb/index.html"/>
        <link rel="prev" title="Public API" href="public.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> omega|ml
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide/index.html">Development Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="public.html">Public API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Developer API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-omegaml">omega|ml</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-omegaml.store.base">omegaml.store</a></li>
<li class="toctree-l3"><a class="reference internal" href="#omegaml-backends">omegaml.backends</a></li>
<li class="toctree-l3"><a class="reference internal" href="#omegaml-mixins">omegaml.mixins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#omegaml-runtimes">omegaml.runtimes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#omegaml-documents">omegaml.documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#omegaml-jobs">omegaml.jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#omegajobs">omegajobs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nb/index.html">Tutorial Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">omega|ml</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Reference</a> &raquo;</li>
        
      <li>Developer API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/developer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="developer-api">
<h1>Developer API<a class="headerlink" href="#developer-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-omegaml">
<span id="omega-ml"></span><h2>omega|ml<a class="headerlink" href="#module-omegaml" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="omegaml.datasets">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">datasets</code><em class="property"> = OmegaStore(bucket=omegaml, prefix=data/)</em><a class="headerlink" href="#omegaml.datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>the OmegaStore for datasets</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.defaults">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">defaults</code><em class="property"> = DefaultsContext({'OMEGA_BROKER': 'amqp://admin:foobar&#64;localhost:5672//', 'OMEGA_BUCKET_FS_LEGACY': False, 'OMEGA_CELERY_CONFIG': {'CELERY_ACCEPT_CONTENT': ['pickle', 'json'], 'CELERY_TASK_SERIALIZER': 'pickle', 'CELERY_RESULT_SERIALIZER': 'pickle', 'CELERY_TASK_RESULT_EXPIRES': 3600, 'CELERY_DEFAULT_QUEUE': 'default', 'BROKER_URL': 'amqp://admin:foobar&#64;localhost:5672//', 'BROKER_HEARTBEAT': 0, 'CELERY_RESULT_BACKEND': 'amqp', 'CELERY_ALWAYS_EAGER': False, 'CELERYBEAT_SCHEDULE': {'execute_scripts': {'task': 'omegaml.notebook.tasks.execute_scripts', 'schedule': 60}}, 'BROKER_USE_SSL': False}, 'OMEGA_CELERY_IMPORTS': ['omegaml', 'omegaml.notebook', 'omegaml.backends.package'], 'OMEGA_CONFIG_FILE': None, 'OMEGA_DISABLE_FRAMEWORKS': None, 'OMEGA_FRAMEWORKS': ['scikit-learn'], 'OMEGA_LOCAL_RUNTIME': False, 'OMEGA_LOG_DATASET': '.omega/logs', 'OMEGA_LOG_FORMAT': '%(asctime)s - %(name)s - %(levelname)s - %(message)s', 'OMEGA_MDF_APPLY_MIXINS': [('omegaml.mixins.mdf.ApplyArithmetics', 'MDataFrame,MSeries'), ('omegaml.mixins.mdf.ApplyDateTime', 'MDataFrame,MSeries'), ('omegaml.mixins.mdf.ApplyString', 'MDataFrame,MSeries'), ('omegaml.mixins.mdf.ApplyAccumulators', 'MDataFrame,MSeries')], 'OMEGA_MDF_MIXINS': [('omegaml.mixins.mdf.ApplyMixin', 'MDataFrame,MSeries'), ('omegaml.mixins.mdf.FilterOpsMixin', 'MDataFrame,MSeries'), ('omegaml.mixins.mdf.apply.ApplyStatistics', 'MDataFrame,MSeries'), ('omegaml.mixins.mdf.iotools.IOToolsMDFMixin', 'MDataFrame'), ('omegaml.mixins.mdf.ParallelApplyMixin', 'MDataFrame')], 'OMEGA_MONGO_COLLECTION': 'omegaml', 'OMEGA_MONGO_SSL_KWARGS': {'ssl': False, 'ssl_ca_certs': None}, 'OMEGA_MONGO_URL': 'mongodb://admin:foobar&#64;localhost:27017/omega', 'OMEGA_NOTEBOOK_COLLECTION': 'ipynb', 'OMEGA_RESULT_BACKEND': 'amqp', 'OMEGA_RUNTIME_MIXINS': ['omegaml.runtimes.mixins.ModelMixin', 'omegaml.runtimes.mixins.GridSearchMixin'], 'OMEGA_STORE_BACKENDS': {'sklearn.joblib': &lt;class 'omegaml.backends.scikitlearn.ScikitLearnBackend'&gt;, 'ndarray.bin': &lt;class 'omegaml.backends.npndarray.NumpyNDArrayBackend'&gt;, 'virtualobj.dill': &lt;class 'omegaml.backends.virtualobj.VirtualObjectBackend'&gt;, 'pandas.rawdict': &lt;class 'omegaml.backends.rawdict.PandasRawDictBackend'&gt;, 'python.file': &lt;class 'omegaml.backends.rawfiles.PythonRawFileBackend'&gt;, 'python.package': &lt;class 'omegaml.backends.package.localpip.PythonPackageData'&gt;, 'pipsrc.package': &lt;class 'omegaml.backends.package.remotepip.PythonPipSourcedPackageData'&gt;, 'pandas.csv': &lt;class 'omegaml.backends.externaldata.PandasExternalData'&gt;, 'sqlalchemy.conx': &lt;class 'omegaml.backends.sqlalchemy.SQLAlchemyBackend'&gt;}, 'OMEGA_STORE_BACKENDS_DASH': {'python.dash': 'omegaml.backends.dashapp.DashAppBackend'}, 'OMEGA_STORE_BACKENDS_KERAS': {'keras.h5': 'omegaml.backends.keras.KerasBackend'}, 'OMEGA_STORE_BACKENDS_SQL': {'sqlalchemy.conx': 'omegaml.backends.sqlalchemy.SQLAlchemyBackend'}, 'OMEGA_STORE_BACKENDS_TENSORFLOW': {'tfkeras.h5': 'omegaml.backends.tensorflow.TensorflowKerasBackend', 'tfkeras.savedmodel': 'omegaml.backends.tensorflow.TensorflowKerasSavedModelBackend', 'tf.savedmodel': 'omegaml.backends.tensorflow.TensorflowSavedModelBackend', 'tfestimator.model': 'omegaml.backends.tensorflow.TFEstimatorModelBackend'}, 'OMEGA_STORE_MIXINS': ['omegaml.mixins.store.ProjectedMixin', 'omegaml.mixins.store.LazyGetMixin', 'omegaml.mixins.store.virtualobj.VirtualObjectMixin', 'omegaml.mixins.store.package.PythonPackageMixin', 'omegaml.mixins.store.promotion.PromotionMixin', 'omegaml.mixins.mdf.iotools.IOToolsStoreMixin', 'omegaml.mixins.store.modelversion.ModelVersionMixin'], 'OMEGA_TASK_ROUTING_ENABLED': False, 'OMEGA_TMP': '/tmp', 'OMEGA_USER_EXTENSIONS': None, 'OMEGA_USESSL': False, 'OMEGA_WORKER_INCLUSTER': False})</em><a class="headerlink" href="#omegaml.defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>the settings object</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.jobs">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">jobs</code><em class="property"> = OmegaJobs(store=OmegaStore(bucket=omegaml, prefix=jobs/))</em><a class="headerlink" href="#omegaml.jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>the jobs API</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.logger">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">logger</code><em class="property"> = &lt;omegaml.store.logging.OmegaSimpleLogger object&gt;</em><a class="headerlink" href="#omegaml.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>the OmegaSimpleLogger for easy log access</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.models">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">models</code><em class="property"> = OmegaStore(bucket=omegaml, prefix=models/)</em><a class="headerlink" href="#omegaml.models" title="Permalink to this definition">¶</a></dt>
<dd><p>the OmegaStore for models</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.runtime">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">runtime</code><em class="property"> = OmegaRuntime(Omega())</em><a class="headerlink" href="#omegaml.runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>the OmegaRuntime for cluster execution</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.scripts">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">scripts</code><em class="property"> = OmegaStore(bucket=omegaml, prefix=scripts/)</em><a class="headerlink" href="#omegaml.scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>the OmegaStore for lambda scripts</p>
</dd></dl>

</div>
<div class="section" id="module-omegaml.store.base">
<span id="omegaml-store"></span><h2>omegaml.store<a class="headerlink" href="#module-omegaml.store.base" title="Permalink to this headline">¶</a></h2>
<p>Native storage for OmegaML using mongodb as the storage layer</p>
<p>An OmegaStore instance is a MongoDB database. It has at least the
metadata collection which lists all objects stored in it. A metadata
document refers to the following types of objects (metadata.kind):</p>
<ul class="simple">
<li><p>pandas.dfrows - a Pandas DataFrame stored as a collection of rows</p></li>
<li><p>sklearn.joblib - a scikit learn estimator/pipline dumped using joblib.dump()</p></li>
<li><p>python.data - an arbitrary python dict, tuple, list stored as a document</p></li>
</ul>
<p>Note that storing Pandas and scikit learn objects requires the availability
of the respective packages. If either can not be imported, the OmegaStore
degrades to a python.data store only. It will still .list() and get() any
object, however reverts to pure python objects. In this case it is up
to the client to convert the data into an appropriate format for processing.</p>
<p>Pandas and scikit-learn objects can only be stored if these packages are
availables. put() raises a TypeError if you pass such objects and these
modules cannot be loaded.</p>
<p>All data are stored within the same mongodb, in per-object collections
as follows:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>.metadata</dt><dd><p>all metadata. each object is one document,
See <strong>omegaml.documents.Metadata</strong> for details</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>.&lt;bucket&gt;.files</dt><dd><p>this is the GridFS instance used to store
blobs (models, numpy, hdf). The actual file name
will be &lt;prefix&gt;/&lt;name&gt;.&lt;ext&gt;, where ext is
optionally generated by put() / get().</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>.&lt;bucket&gt;.&lt;prefix&gt;.&lt;name&gt;.data</dt><dd><p>every other dataset is stored in a separate
collection (dataframes, dicts, lists, tuples).
Any forward slash in prefix is ignored (e.g. ‘data/’
becomes ‘data’)</p>
</dd>
</dl>
</li>
</ul>
<p>DataFrames by default are stored in their own collection, every
row becomes a document. To store dataframes as a binary file,
use <cite>put(…., as_hdf=True).</cite> <cite>.get()</cite> will always return a dataframe.</p>
<p>Python dicts, lists, tuples are stored as a single document with
a <cite>.data</cite> attribute holding the JSON-converted representation. <cite>.get()</cite>
will always return the corresponding python object of .data.</p>
<p>Models are joblib.dump()’ed and ziped prior to transferring into
GridFs. .get() will always unzip and joblib.load() before returning
the model. Note this requires that the process using .get() supports
joblib as well as all python classes referred to. If joblib is not
supported, .get() returns a file-like object.</p>
<p>The .metadata entry specifies the format used to store each
object as well as it’s location:</p>
<ul class="simple">
<li><dl class="simple">
<dt>metadata.kind</dt><dd><p>the type of object</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>metadata.name</dt><dd><p>the name of the object, as given on put()</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>metadata.gridfile</dt><dd><p>the gridfs object (if any, null otherwise)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>metadata.collection</dt><dd><p>the name of the collection</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>metadata.attributes</dt><dd><p>arbitrary custom attributes set in
put(attributes=obj). This is used e.g. by
OmegaRuntime’s fit() method to record the
data used in the model’s training.</p>
</dd>
</dl>
</li>
</ul>
<p><strong>.put()</strong> and <strong>.get()</strong> use helper methods specific to the type in
object’s type and metadata.kind, respectively. In the future
a plugin system will enable extension to other types.</p>
</div></blockquote>
<dl class="class">
<dt id="omegaml.store.base.OmegaStore">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.store.base.</code><code class="sig-name descname">OmegaStore</code><span class="sig-paren">(</span><em class="sig-param">mongo_url=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">dbalias=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore" title="Permalink to this definition">¶</a></dt>
<dd><p>The storage backend for models and data</p>
<dl class="method">
<dt id="omegaml.store.base.OmegaStore.collection">
<code class="sig-name descname">collection</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mongo db collection as a datastore</p>
<p>If there is an existing object of name, will return the .collection
of the object. Otherwise returns the collection according to naming
convention {bucket}.{prefix}.{name}.datastore</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the collection to use. if none defaults to the
collection name given on instantiation. the actual collection name
used is always prefix + name + ‘.data’</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.drop">
<code class="sig-name descname">drop</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">force=False</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop the object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the object</p></li>
<li><p><strong>force</strong> – If True ignores DoesNotExist exception, defaults to False
meaning this raises a DoesNotExist exception of the name does not
exist</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if object was deleted, False if not.
If force is True and
the object does not exist it will still return True</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.fs">
<em class="property">property </em><code class="sig-name descname">fs</code><a class="headerlink" href="#omegaml.store.base.OmegaStore.fs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a gridfs instance using url and collection provided</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a gridfs instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">force_python=False</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the object</p></li>
<li><p><strong>version</strong> – Version of the stored object (not supported)</p></li>
<li><p><strong>force_python</strong> – Return as a python object</p></li>
<li><p><strong>kwargs</strong> – kwargs depending on object kind</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an object, estimator, pipelines, data array or pandas dataframe
previously stored with put()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_backend">
<code class="sig-name descname">get_backend</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>return the backend by a given object name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – The object kind</p></li>
<li><p><strong>model_store</strong> – the OmegaStore instance used to store models</p></li>
<li><p><strong>data_store</strong> – the OmegaStore instance used to store data</p></li>
<li><p><strong>kwargs</strong> – the kwargs passed to the backend initialization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the backend</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_backend_bykind">
<code class="sig-name descname">get_backend_bykind</code><span class="sig-paren">(</span><em class="sig-param">kind</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_backend_bykind" title="Permalink to this definition">¶</a></dt>
<dd><p>return the backend by a given object kind</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – The object kind</p></li>
<li><p><strong>model_store</strong> – the OmegaStore instance used to store models</p></li>
<li><p><strong>data_store</strong> – the OmegaStore instance used to store data</p></li>
<li><p><strong>kwargs</strong> – the kwargs passed to the backend initialization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the backend</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_backend_byobj">
<code class="sig-name descname">get_backend_byobj</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_backend_byobj" title="Permalink to this definition">¶</a></dt>
<dd><p>return the matching backend for the given obj</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>the first backend that supports the given parameters or None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_dataframe_dfgroup">
<code class="sig-name descname">get_dataframe_dfgroup</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">kwargs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_dataframe_dfgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a grouped dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the object</p></li>
<li><p><strong>version</strong> – not supported</p></li>
<li><p><strong>kwargs</strong> – mongo db query arguments to be passed to
collection.find() as a filter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_dataframe_documents">
<code class="sig-name descname">get_dataframe_documents</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">columns=None</em>, <em class="sig-param">lazy=False</em>, <em class="sig-param">filter=None</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">is_series=False</em>, <em class="sig-param">chunksize=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_dataframe_documents" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method to return DataFrame from documents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the object (str)</p></li>
<li><p><strong>columns</strong> – the column projection as a list of column names</p></li>
<li><p><strong>lazy</strong> – if True returns a lazy representation as an MDataFrame.
If False retrieves all data and returns a DataFrame (default)</p></li>
<li><p><strong>filter</strong> – the filter to be applied as a column__op=value dict</p></li>
<li><p><strong>version</strong> – the version to retrieve (not supported)</p></li>
<li><p><strong>is_series</strong> – if True retruns a Series instead of a DataFrame</p></li>
<li><p><strong>kwargs</strong> – remaining kwargs are used a filter. The filter kwarg
overrides other kwargs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the retrieved object (DataFrame, Series or MDataFrame)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_dataframe_hdf">
<code class="sig-name descname">get_dataframe_hdf</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_dataframe_hdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve dataframe from hdf</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>version</strong> – The version of object (not supported)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a python pandas dataframe</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>gridfs.errors.NoFile</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_object_as_python">
<code class="sig-name descname">get_object_as_python</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_object_as_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve object as python object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> – The metadata object</p></li>
<li><p><strong>version</strong> – The version of the object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns data as python object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.get_python_data">
<code class="sig-name descname">get_python_data</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.get_python_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve objects as python data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>version</strong> – The version of object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the object as python list object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.getl">
<code class="sig-name descname">getl</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.getl" title="Permalink to this definition">¶</a></dt>
<dd><p>return a lazy MDataFrame for a given object</p>
<p>Same as .get, but returns a MDataFrame</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.list">
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param">pattern=None</em>, <em class="sig-param">regexp=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">raw=False</em>, <em class="sig-param">hidden=None</em>, <em class="sig-param">include_temp=False</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.list" title="Permalink to this definition">¶</a></dt>
<dd><p>List all files in store</p>
<p>specify pattern as a unix pattern (e.g. <code class="code docutils literal notranslate"><span class="pre">models/*</span></code>,
or specify regexp)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – the unix file pattern or None for all</p></li>
<li><p><strong>regexp</strong> – the regexp. takes precedence over pattern</p></li>
<li><p><strong>raw</strong> – if True return the meta data objects</p></li>
<li><p><strong>filter</strong> – specify additional filter criteria, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of files in store</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.make_metadata">
<code class="sig-name descname">make_metadata</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">kind</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.make_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>create or update a metadata object</p>
<p>this retrieves a Metadata object if it exists given the kwargs. Only
the name, prefix and bucket arguments are considered</p>
<p>for existing Metadata objects, the attributes kw is treated as follows:</p>
<ul class="simple">
<li><p>attributes=None, the existing attributes are left as is</p></li>
<li><p>attributes={}, the attributes value on an existing metadata object
is reset to the empty dict</p></li>
<li><p>attributes={ some : value }, the existing attributes are updated</p></li>
</ul>
<p>For new metadata objects, attributes defaults to {} if not specified,
else is set as provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the object name</p></li>
<li><p><strong>bucket</strong> – the bucket, optional, defaults to self.bucket</p></li>
<li><p><strong>prefix</strong> – the prefix, optional, defaults to self.prefix</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.metadata">
<code class="sig-name descname">metadata</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a metadata document for the given entry name</p>
<p>FIXME: version attribute does not do anything
FIXME: metadata should be stored in a bucket-specific collection
to enable access control, see <a class="reference external" href="https://docs.mongodb.com/manual/reference/method/db.createRole/#db.createRole">https://docs.mongodb.com/manual/reference/method/db.createRole/#db.createRole</a></p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.mongodb">
<em class="property">property </em><code class="sig-name descname">mongodb</code><a class="headerlink" href="#omegaml.store.base.OmegaStore.mongodb" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mongo database object</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.object_store_key">
<code class="sig-name descname">object_store_key</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">ext</em>, <em class="sig-param">hashed=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.object_store_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the store key</p>
<p>Unless you write a mixin or a backend you should not use this method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>ext</strong> – The extension of the filename</p></li>
<li><p><strong>hashed</strong> – hash the key to support arbitrary name length, defaults to False,
will default to True in future versions</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A filename with relative bucket, prefix and name</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">replace=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores an object, store estimators, pipelines, numpy arrays or
pandas dataframes</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.put_dataframe_as_dfgroup">
<code class="sig-name descname">put_dataframe_as_dfgroup</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">groupby</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.put_dataframe_as_dfgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>store a dataframe grouped by columns in a mongo document</p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p>&gt; # each group
&gt;  {
&gt;     #group keys
&gt;     key: val,
&gt;     _data: [
&gt;      # only data keys
&gt;        { key: val, … }
&gt;     ]}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.put_dataframe_as_documents">
<code class="sig-name descname">put_dataframe_as_documents</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">append=None</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">timestamp=None</em>, <em class="sig-param">chunksize=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.put_dataframe_as_documents" title="Permalink to this definition">¶</a></dt>
<dd><p>store a dataframe as a row-wise collection of documents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the dataframe to store</p></li>
<li><p><strong>name</strong> – the name of the item in the store</p></li>
<li><p><strong>append</strong> – if False collection will be dropped before inserting,
if True existing documents will persist. Defaults to True. If not
specified and rows have been previously inserted, will issue a
warning.</p></li>
<li><p><strong>index</strong> – list of columns, using +, -, &#64; as a column prefix to
specify ASCENDING, DESCENDING, GEOSPHERE respectively. For &#64; the
column has to represent a valid GeoJSON object.</p></li>
<li><p><strong>timestamp</strong> – if True or a field name adds a timestamp. If the
value is a boolean or datetime, uses _created as the field name.
The timestamp is always datetime.datetime.utcnow(). May be overriden
by specifying the tuple (col, datetime).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the Metadata object created</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.put_ndarray_as_hdf">
<code class="sig-name descname">put_ndarray_as_hdf</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.put_ndarray_as_hdf" title="Permalink to this definition">¶</a></dt>
<dd><p>store numpy array as hdf</p>
<p>this is hack, converting the array to a dataframe then storing
it</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.put_pyobj_as_document">
<code class="sig-name descname">put_pyobj_as_document</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">append=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.put_pyobj_as_document" title="Permalink to this definition">¶</a></dt>
<dd><p>store a dict as a document</p>
<p>similar to put_dataframe_as_documents no data will be replaced by
default. that is, obj is appended as new documents into the objects’
mongo collection. to replace the data, specify append=False.</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.put_pyobj_as_hdf">
<code class="sig-name descname">put_pyobj_as_hdf</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.put_pyobj_as_hdf" title="Permalink to this definition">¶</a></dt>
<dd><p>store list, tuple, dict as hdf</p>
<p>this requires the list, tuple or dict to be convertible into
a dataframe</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.rebuild_params">
<code class="sig-name descname">rebuild_params</code><span class="sig-paren">(</span><em class="sig-param">kwargs</em>, <em class="sig-param">collection</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.rebuild_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a modified set of parameters for querying mongodb
based on how the mongo document is structured and the
fields the document is grouped by.</p>
<p><strong>Note: Explicitly to be used with get_grouped_data only</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs</strong> – Mongo filter arguments</p></li>
<li><p><strong>collection</strong> – The name of mongodb collection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a set of parameters as dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.register_backend">
<code class="sig-name descname">register_backend</code><span class="sig-paren">(</span><em class="sig-param">kind</em>, <em class="sig-param">backend</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.register_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>register a backend class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – (str) the backend kind</p></li>
<li><p><strong>backend</strong> – (class) the backend class</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.register_backends">
<code class="sig-name descname">register_backends</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.register_backends" title="Permalink to this definition">¶</a></dt>
<dd><p>register backends in defaults.OMEGA_STORE_BACKENDS</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.register_mixin">
<code class="sig-name descname">register_mixin</code><span class="sig-paren">(</span><em class="sig-param">mixincls</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.store.base.OmegaStore.register_mixin" title="Permalink to this definition">¶</a></dt>
<dd><p>register a mixin class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mixincls</strong> – (class) the mixin class</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.store.base.OmegaStore.tmppath">
<em class="property">property </em><code class="sig-name descname">tmppath</code><a class="headerlink" href="#omegaml.store.base.OmegaStore.tmppath" title="Permalink to this definition">¶</a></dt>
<dd><p>return an instance-specific temporary path</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">omegaml.store.base.</code><code class="sig-name descname">OmegaStore</code><span class="sig-paren">(</span><em class="sig-param">mongo_url=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">dbalias=None</em><span class="sig-paren">)</span></dt>
<dd><p>The storage backend for models and data</p>
<dl class="method">
<dt>
<code class="sig-name descname">collection</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a mongo db collection as a datastore</p>
<p>If there is an existing object of name, will return the .collection
of the object. Otherwise returns the collection according to naming
convention {bucket}.{prefix}.{name}.datastore</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the collection to use. if none defaults to the
collection name given on instantiation. the actual collection name
used is always prefix + name + ‘.data’</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">drop</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">force=False</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Drop the object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the object</p></li>
<li><p><strong>force</strong> – If True ignores DoesNotExist exception, defaults to False
meaning this raises a DoesNotExist exception of the name does not
exist</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if object was deleted, False if not.
If force is True and
the object does not exist it will still return True</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">fs</code></dt>
<dd><p>Retrieve a gridfs instance using url and collection provided</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a gridfs instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">force_python=False</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve an object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the object</p></li>
<li><p><strong>version</strong> – Version of the stored object (not supported)</p></li>
<li><p><strong>force_python</strong> – Return as a python object</p></li>
<li><p><strong>kwargs</strong> – kwargs depending on object kind</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an object, estimator, pipelines, data array or pandas dataframe
previously stored with put()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_backend</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return the backend by a given object name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – The object kind</p></li>
<li><p><strong>model_store</strong> – the OmegaStore instance used to store models</p></li>
<li><p><strong>data_store</strong> – the OmegaStore instance used to store data</p></li>
<li><p><strong>kwargs</strong> – the kwargs passed to the backend initialization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the backend</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_backend_bykind</code><span class="sig-paren">(</span><em class="sig-param">kind</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return the backend by a given object kind</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – The object kind</p></li>
<li><p><strong>model_store</strong> – the OmegaStore instance used to store models</p></li>
<li><p><strong>data_store</strong> – the OmegaStore instance used to store data</p></li>
<li><p><strong>kwargs</strong> – the kwargs passed to the backend initialization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the backend</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_backend_byobj</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return the matching backend for the given obj</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>the first backend that supports the given parameters or None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_dataframe_dfgroup</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">kwargs=None</em><span class="sig-paren">)</span></dt>
<dd><p>Return a grouped dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the object</p></li>
<li><p><strong>version</strong> – not supported</p></li>
<li><p><strong>kwargs</strong> – mongo db query arguments to be passed to
collection.find() as a filter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_dataframe_documents</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">columns=None</em>, <em class="sig-param">lazy=False</em>, <em class="sig-param">filter=None</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">is_series=False</em>, <em class="sig-param">chunksize=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Internal method to return DataFrame from documents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the object (str)</p></li>
<li><p><strong>columns</strong> – the column projection as a list of column names</p></li>
<li><p><strong>lazy</strong> – if True returns a lazy representation as an MDataFrame.
If False retrieves all data and returns a DataFrame (default)</p></li>
<li><p><strong>filter</strong> – the filter to be applied as a column__op=value dict</p></li>
<li><p><strong>version</strong> – the version to retrieve (not supported)</p></li>
<li><p><strong>is_series</strong> – if True retruns a Series instead of a DataFrame</p></li>
<li><p><strong>kwargs</strong> – remaining kwargs are used a filter. The filter kwarg
overrides other kwargs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the retrieved object (DataFrame, Series or MDataFrame)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_dataframe_hdf</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve dataframe from hdf</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>version</strong> – The version of object (not supported)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a python pandas dataframe</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>gridfs.errors.NoFile</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_object_as_python</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve object as python object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> – The metadata object</p></li>
<li><p><strong>version</strong> – The version of the object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns data as python object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_python_data</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve objects as python data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>version</strong> – The version of object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the object as python list object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">getl</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return a lazy MDataFrame for a given object</p>
<p>Same as .get, but returns a MDataFrame</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param">pattern=None</em>, <em class="sig-param">regexp=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">raw=False</em>, <em class="sig-param">hidden=None</em>, <em class="sig-param">include_temp=False</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">filter=None</em><span class="sig-paren">)</span></dt>
<dd><p>List all files in store</p>
<p>specify pattern as a unix pattern (e.g. <code class="code docutils literal notranslate"><span class="pre">models/*</span></code>,
or specify regexp)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – the unix file pattern or None for all</p></li>
<li><p><strong>regexp</strong> – the regexp. takes precedence over pattern</p></li>
<li><p><strong>raw</strong> – if True return the meta data objects</p></li>
<li><p><strong>filter</strong> – specify additional filter criteria, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of files in store</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">make_metadata</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">kind</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>create or update a metadata object</p>
<p>this retrieves a Metadata object if it exists given the kwargs. Only
the name, prefix and bucket arguments are considered</p>
<p>for existing Metadata objects, the attributes kw is treated as follows:</p>
<ul class="simple">
<li><p>attributes=None, the existing attributes are left as is</p></li>
<li><p>attributes={}, the attributes value on an existing metadata object
is reset to the empty dict</p></li>
<li><p>attributes={ some : value }, the existing attributes are updated</p></li>
</ul>
<p>For new metadata objects, attributes defaults to {} if not specified,
else is set as provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the object name</p></li>
<li><p><strong>bucket</strong> – the bucket, optional, defaults to self.bucket</p></li>
<li><p><strong>prefix</strong> – the prefix, optional, defaults to self.prefix</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">metadata</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a metadata document for the given entry name</p>
<p>FIXME: version attribute does not do anything
FIXME: metadata should be stored in a bucket-specific collection
to enable access control, see <a class="reference external" href="https://docs.mongodb.com/manual/reference/method/db.createRole/#db.createRole">https://docs.mongodb.com/manual/reference/method/db.createRole/#db.createRole</a></p>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">mongodb</code></dt>
<dd><p>Returns a mongo database object</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">object_store_key</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">ext</em>, <em class="sig-param">hashed=False</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the store key</p>
<p>Unless you write a mixin or a backend you should not use this method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>ext</strong> – The extension of the filename</p></li>
<li><p><strong>hashed</strong> – hash the key to support arbitrary name length, defaults to False,
will default to True in future versions</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A filename with relative bucket, prefix and name</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">replace=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Stores an object, store estimators, pipelines, numpy arrays or
pandas dataframes</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_dataframe_as_dfgroup</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">groupby</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span></dt>
<dd><p>store a dataframe grouped by columns in a mongo document</p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p>&gt; # each group
&gt;  {
&gt;     #group keys
&gt;     key: val,
&gt;     _data: [
&gt;      # only data keys
&gt;        { key: val, … }
&gt;     ]}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_dataframe_as_documents</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">append=None</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">timestamp=None</em>, <em class="sig-param">chunksize=None</em><span class="sig-paren">)</span></dt>
<dd><p>store a dataframe as a row-wise collection of documents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the dataframe to store</p></li>
<li><p><strong>name</strong> – the name of the item in the store</p></li>
<li><p><strong>append</strong> – if False collection will be dropped before inserting,
if True existing documents will persist. Defaults to True. If not
specified and rows have been previously inserted, will issue a
warning.</p></li>
<li><p><strong>index</strong> – list of columns, using +, -, &#64; as a column prefix to
specify ASCENDING, DESCENDING, GEOSPHERE respectively. For &#64; the
column has to represent a valid GeoJSON object.</p></li>
<li><p><strong>timestamp</strong> – if True or a field name adds a timestamp. If the
value is a boolean or datetime, uses _created as the field name.
The timestamp is always datetime.datetime.utcnow(). May be overriden
by specifying the tuple (col, datetime).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the Metadata object created</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_ndarray_as_hdf</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span></dt>
<dd><p>store numpy array as hdf</p>
<p>this is hack, converting the array to a dataframe then storing
it</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_pyobj_as_document</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">append=True</em><span class="sig-paren">)</span></dt>
<dd><p>store a dict as a document</p>
<p>similar to put_dataframe_as_documents no data will be replaced by
default. that is, obj is appended as new documents into the objects’
mongo collection. to replace the data, specify append=False.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_pyobj_as_hdf</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span></dt>
<dd><p>store list, tuple, dict as hdf</p>
<p>this requires the list, tuple or dict to be convertible into
a dataframe</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">rebuild_params</code><span class="sig-paren">(</span><em class="sig-param">kwargs</em>, <em class="sig-param">collection</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a modified set of parameters for querying mongodb
based on how the mongo document is structured and the
fields the document is grouped by.</p>
<p><strong>Note: Explicitly to be used with get_grouped_data only</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs</strong> – Mongo filter arguments</p></li>
<li><p><strong>collection</strong> – The name of mongodb collection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a set of parameters as dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">register_backend</code><span class="sig-paren">(</span><em class="sig-param">kind</em>, <em class="sig-param">backend</em><span class="sig-paren">)</span></dt>
<dd><p>register a backend class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – (str) the backend kind</p></li>
<li><p><strong>backend</strong> – (class) the backend class</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">register_backends</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>register backends in defaults.OMEGA_STORE_BACKENDS</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">register_mixin</code><span class="sig-paren">(</span><em class="sig-param">mixincls</em><span class="sig-paren">)</span></dt>
<dd><p>register a mixin class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mixincls</strong> – (class) the mixin class</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">tmppath</code></dt>
<dd><p>return an instance-specific temporary path</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegaml-backends">
<h2>omegaml.backends<a class="headerlink" href="#omegaml-backends" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="omegaml.backends.basedata.BaseDataBackend">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.backends.basedata.</code><code class="sig-name descname">BaseDataBackend</code><span class="sig-paren">(</span><em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basedata.BaseDataBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>OmegaML BaseDataBackend to be subclassed by other arbitrary backends</p>
<p>This provides the abstract interface for any data backend to be implemented</p>
<dl class="method">
<dt id="omegaml.backends.basedata.BaseDataBackend.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">force_python=False</em>, <em class="sig-param">lazy=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basedata.BaseDataBackend.get" title="Permalink to this definition">¶</a></dt>
<dd><p>get an obj</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the name of the object (str)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the object as it was originally stored</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basedata.BaseDataBackend.getl">
<code class="sig-name descname">getl</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basedata.BaseDataBackend.getl" title="Permalink to this definition">¶</a></dt>
<dd><p>get an lazy implementation to access the obj</p>
<p>A lazy implementation is a proxy to the object that can be
evaluated using the <code class="code docutils literal notranslate"><span class="pre">.value</span></code> property. The proxy should
ensure that any operations applied on the object are delayed until
the .value property is accessed. Typically this is to ensure that
the actual computation is executed on the cluster, not on the local
machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the name of the object (str)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the proxy to the object as it was originally stored</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basedata.BaseDataBackend.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basedata.BaseDataBackend.put" title="Permalink to this definition">¶</a></dt>
<dd><p>put an obj</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the object to store (object)</p></li>
<li><p><strong>name</strong> – the name of the object (str)</p></li>
<li><p><strong>attributes</strong> – the attributes dict (dict, optional)</p></li>
<li><p><strong>kwargs</strong> – other kwargs to be passed to the Metadata object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the Metadata object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basedata.BaseDataBackend.supports">
<em class="property">classmethod </em><code class="sig-name descname">supports</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basedata.BaseDataBackend.supports" title="Permalink to this definition">¶</a></dt>
<dd><p>test if this backend supports this obj</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.backends.basemodel.BaseModelBackend">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.backends.basemodel.</code><code class="sig-name descname">BaseModelBackend</code><span class="sig-paren">(</span><em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>OmegaML BaseModelBackend to be subclassed by other arbitrary backends</p>
<p>This provides the abstract interface for any model backend to be implemented
Subclass to implement custom backends.</p>
<p>Essentially a model backend:</p>
<blockquote>
<div><ul class="simple">
<li><p>provides methods to serialize and deserialize a machine learning model for a given ML framework</p></li>
<li><p>offers fit() and predict() methods to be called by the runtime</p></li>
<li><p>offers additional methods such as score(), partial_fit(), transform()</p></li>
</ul>
</div></blockquote>
<p>Model backends are the middleware that connects the om.models API to specific frameworks. This class
makes it simple to implement a model backend by offering a common syntax as well as a default implementation
for get() and put().</p>
<p>Methods to implement:</p>
<blockquote>
<div><p># for model serialization (mandatory)
&#64;classmethod supports() - determine if backend supports given model instance
_package_model() - serialize a model instance into a temporary file
_extract_model() - deserialize the model from a file-like</p>
<p>Both methods provide readily set up temporary file names so that all you have to do is actually
save the model to the given output file and restore the model from the given input file, respectively.
All other logic has already been implemented (see get_model and put_model methods).</p>
<p># for fitting and predicting (mandatory)
fit()
predict()</p>
<p># other methods (optional)
fit_transform() - fit and return a transformed dataset
partial_fit() - fit incrementally
predict_proba() - predict probabilities
score() - score fitted classifier vv test dataset</p>
</div></blockquote>
<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">Xname</em>, <em class="sig-param">Yname=None</em>, <em class="sig-param">pure_python=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>fit the model with data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> – the name of the model object</p></li>
<li><p><strong>Xname</strong> – the name of the X data set</p></li>
<li><p><strong>Yname</strong> – the name of the Y data set</p></li>
<li><p><strong>pure_python</strong> – if True return a python object. If False return
a dataframe. Defaults to True to support any client.</p></li>
<li><p><strong>kwargs</strong> – kwargs passed to the model’s predict method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return the meta data object of the model</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">Xname</em>, <em class="sig-param">Yname=None</em>, <em class="sig-param">rName=None</em>, <em class="sig-param">pure_python=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>fit and transform using data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> – the name of the model object</p></li>
<li><p><strong>Xname</strong> – the name of the X data set</p></li>
<li><p><strong>Yname</strong> – the name of the Y data set</p></li>
<li><p><strong>rName</strong> – the name of the transforms’s result data object or None</p></li>
<li><p><strong>pure_python</strong> – if True return a python object. If False return
a dataframe. Defaults to True to support any client.</p></li>
<li><p><strong>kwargs</strong> – kwargs passed to the model’s transform method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return the meta data object of the model</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.get" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve a model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the object</p></li>
<li><p><strong>version</strong> – the version of the object (not supported)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.get_model">
<code class="sig-name descname">get_model</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a pre-stored model</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.partial_fit">
<code class="sig-name descname">partial_fit</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">Xname</em>, <em class="sig-param">Yname=None</em>, <em class="sig-param">pure_python=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.partial_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>partially fit the model with data (online)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> – the name of the model object</p></li>
<li><p><strong>Xname</strong> – the name of the X data set</p></li>
<li><p><strong>Yname</strong> – the name of the Y data set</p></li>
<li><p><strong>pure_python</strong> – if True return a python object. If False return
a dataframe. Defaults to True to support any client.</p></li>
<li><p><strong>kwargs</strong> – kwargs passed to the model’s predict method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return the meta data object of the model</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">Xname</em>, <em class="sig-param">rName=None</em>, <em class="sig-param">pure_python=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>predict using data stored in Xname</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> – the name of the model object</p></li>
<li><p><strong>Xname</strong> – the name of the X data set</p></li>
<li><p><strong>rName</strong> – the name of the result data object or None</p></li>
<li><p><strong>pure_python</strong> – if True return a python object. If False return
a dataframe. Defaults to True to support any client.</p></li>
<li><p><strong>kwargs</strong> – kwargs passed to the model’s predict method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return the predicted outcome</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">Xname</em>, <em class="sig-param">rName=None</em>, <em class="sig-param">pure_python=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>predict the probability using data stored in Xname</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> – the name of the model object</p></li>
<li><p><strong>Xname</strong> – the name of the X data set</p></li>
<li><p><strong>rName</strong> – the name of the result data object or None</p></li>
<li><p><strong>pure_python</strong> – if True return a python object. If False return
a dataframe. Defaults to True to support any client.</p></li>
<li><p><strong>kwargs</strong> – kwargs passed to the model’s predict method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return the predicted outcome</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.put" title="Permalink to this definition">¶</a></dt>
<dd><p>store a model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the model object to be stored</p></li>
<li><p><strong>name</strong> – the name of the object</p></li>
<li><p><strong>attributes</strong> – attributes for meta data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.put_model">
<code class="sig-name descname">put_model</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">_kind_version=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.put_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Packages a model using joblib and stores in GridFS</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">Xname</em>, <em class="sig-param">Yname=None</em>, <em class="sig-param">rName=True</em>, <em class="sig-param">pure_python=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.score" title="Permalink to this definition">¶</a></dt>
<dd><p>score using data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> – the name of the model object</p></li>
<li><p><strong>Xname</strong> – the name of the X data set</p></li>
<li><p><strong>Yname</strong> – the name of the Y data set</p></li>
<li><p><strong>rName</strong> – the name of the transforms’s result data object or None</p></li>
<li><p><strong>pure_python</strong> – if True return a python object. If False return
a dataframe. Defaults to True to support any client.</p></li>
<li><p><strong>kwargs</strong> – kwargs passed to the model’s predict method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return the score result</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.supports">
<em class="property">classmethod </em><code class="sig-name descname">supports</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.supports" title="Permalink to this definition">¶</a></dt>
<dd><p>test if this backend supports this obj</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.basemodel.BaseModelBackend.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">Xname</em>, <em class="sig-param">rName=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.basemodel.BaseModelBackend.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>transform using data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modelname</strong> – the name of the model object</p></li>
<li><p><strong>Xname</strong> – the name of the X data set</p></li>
<li><p><strong>rName</strong> – the name of the transforms’s result data object or None</p></li>
<li><p><strong>kwargs</strong> – kwargs passed to the model’s transform method</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>return the transform data of the model</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.documents.Metadata">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.documents.</code><code class="sig-name descname">Metadata</code><a class="headerlink" href="#omegaml.documents.Metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadata stores information about objects in OmegaStore</p>
<dl class="attribute">
<dt id="omegaml.documents.Metadata.attributes">
<code class="sig-name descname">attributes</code><a class="headerlink" href="#omegaml.documents.Metadata.attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>customer-defined other meta attributes</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.bucket">
<code class="sig-name descname">bucket</code><a class="headerlink" href="#omegaml.documents.Metadata.bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>bucket</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.collection">
<code class="sig-name descname">collection</code><a class="headerlink" href="#omegaml.documents.Metadata.collection" title="Permalink to this definition">¶</a></dt>
<dd><p>for PANDAS_DFROWS this is the collection</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.created">
<code class="sig-name descname">created</code><a class="headerlink" href="#omegaml.documents.Metadata.created" title="Permalink to this definition">¶</a></dt>
<dd><p>created datetime</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.gridfile">
<code class="sig-name descname">gridfile</code><a class="headerlink" href="#omegaml.documents.Metadata.gridfile" title="Permalink to this definition">¶</a></dt>
<dd><p>for PANDAS_HDF and SKLEARN_JOBLIB this is the gridfile</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.kind">
<code class="sig-name descname">kind</code><a class="headerlink" href="#omegaml.documents.Metadata.kind" title="Permalink to this definition">¶</a></dt>
<dd><p>kind of data</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.kind_meta">
<code class="sig-name descname">kind_meta</code><a class="headerlink" href="#omegaml.documents.Metadata.kind_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>omegaml technical attributes, e.g. column indicies</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.modified">
<code class="sig-name descname">modified</code><a class="headerlink" href="#omegaml.documents.Metadata.modified" title="Permalink to this definition">¶</a></dt>
<dd><p>created datetime</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#omegaml.documents.Metadata.name" title="Permalink to this definition">¶</a></dt>
<dd><p>this is the name of the data</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.objid">
<code class="sig-name descname">objid</code><a class="headerlink" href="#omegaml.documents.Metadata.objid" title="Permalink to this definition">¶</a></dt>
<dd><p>for PYTHON_DATA this is the actual document</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.prefix">
<code class="sig-name descname">prefix</code><a class="headerlink" href="#omegaml.documents.Metadata.prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>prefix</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.s3file">
<code class="sig-name descname">s3file</code><a class="headerlink" href="#omegaml.documents.Metadata.s3file" title="Permalink to this definition">¶</a></dt>
<dd><p>s3file attributes</p>
</dd></dl>

<dl class="attribute">
<dt id="omegaml.documents.Metadata.uri">
<code class="sig-name descname">uri</code><a class="headerlink" href="#omegaml.documents.Metadata.uri" title="Permalink to this definition">¶</a></dt>
<dd><p>location URI</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegaml-mixins">
<h2>omegaml.mixins<a class="headerlink" href="#omegaml-mixins" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="omegaml.mixins.store.ProjectedMixin">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.store.</code><code class="sig-name descname">ProjectedMixin</code><a class="headerlink" href="#omegaml.mixins.store.ProjectedMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>A OmegaStore mixin to process column specifications in dataset name</p>
<dl class="method">
<dt id="omegaml.mixins.store.ProjectedMixin.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.store.ProjectedMixin.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a projected dataset given a name of form name[colspec]</p>
<p>colspec can be any of</p>
<ul class="simple">
<li><p>a comma separated list of columns, e.g. foo[a,b]</p></li>
<li><p>an open-ended slice, e.g. foo[a:] =&gt; all columns following a, inclusive</p></li>
<li><p>an closed slice, e.g. foo[a:b] =&gt; all columns between a,b, inclusive</p></li>
<li><p>a close-ended slice, e.g. foo[:b] =&gt; all columns up to b, inclusive</p></li>
<li><p>an empty slice, e.g. foo[:] =&gt; all columns</p></li>
<li><p>a list of columns to exclude, e.g. foo[^b] =&gt; all columns except b</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – (str) the name of the dataset, optionally including a
column specification</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the dataset with projected columns</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.FilterOpsMixin">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">FilterOpsMixin</code><a class="headerlink" href="#omegaml.mixins.mdf.FilterOpsMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>filter operators on MSeries</p>
</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyMixin">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyMixin</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the apply() mixin supporting arbitrary functions to build aggregation pipelines</p>
<p>Note that .apply() does not execute immediately. Instead it builds an aggregation pipeline
that is executed on MDataFrame.value. Note that .apply() calls cannot be cascaded yet, i.e.
a later .apply() will override a previous.apply().</p>
<p>See ApplyContext for usage examples.</p>
<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyMixin.persist">
<code class="sig-name descname">persist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyMixin.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute and store results in cache</p>
<p>Any pipeline of the same operations, in the same order, on
the same collection will return the same result.</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyMixin.reset_cache">
<code class="sig-name descname">reset_cache</code><span class="sig-paren">(</span><em class="sig-param">full=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyMixin.reset_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the apply cache</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>full</strong> – if True will reset all caches for the collection, if False will only remove
the cache for the specific .apply operations</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyArithmetics">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyArithmetics</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyArithmetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Math operators for ApplyContext</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">__mul__</span></code> (*)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__add__</span></code> (+)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__sub__</span></code> (-)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__div__</span></code> (/)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__floordiv__</span></code> (//)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__mod__</span></code> (%)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__pow__</span></code> (pow)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__ceil__</span></code> (ceil)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__floor__</span></code> (floor)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__trunc__</span></code> (trunc)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__abs__</span></code> (abs)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">sqrt</span></code> (math.sqrt)</p></li>
</ul>
<dl class="attribute">
<dt id="omegaml.mixins.mdf.ApplyArithmetics.__pow_">
<code class="sig-name descname">__pow_</code><em class="property"> = None</em><a class="headerlink" href="#omegaml.mixins.mdf.ApplyArithmetics.__pow_" title="Permalink to this definition">¶</a></dt>
<dd><p>pow</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyArithmetics.sqrt">
<code class="sig-name descname">sqrt</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyArithmetics.sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>square root</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyDateTime">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyDateTime</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime operators for ApplyContext</p>
<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.day">
<em class="property">property </em><code class="sig-name descname">day</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.day" title="Permalink to this definition">¶</a></dt>
<dd><p>dayOfMonth</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.dayofweek">
<em class="property">property </em><code class="sig-name descname">dayofweek</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.dayofweek" title="Permalink to this definition">¶</a></dt>
<dd><p>dayOfWeek</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.dayofyear">
<em class="property">property </em><code class="sig-name descname">dayofyear</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.dayofyear" title="Permalink to this definition">¶</a></dt>
<dd><p>dayOfYear</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.hour">
<em class="property">property </em><code class="sig-name descname">hour</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.hour" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.millisecond">
<em class="property">property </em><code class="sig-name descname">millisecond</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.millisecond" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.minute">
<em class="property">property </em><code class="sig-name descname">minute</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.minute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.month">
<em class="property">property </em><code class="sig-name descname">month</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.month" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.second">
<em class="property">property </em><code class="sig-name descname">second</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.second" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.week">
<em class="property">property </em><code class="sig-name descname">week</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.week" title="Permalink to this definition">¶</a></dt>
<dd><p>isoWeek</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.year">
<em class="property">property </em><code class="sig-name descname">year</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.year" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyString">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyString</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString" title="Permalink to this definition">¶</a></dt>
<dd><p>String operators</p>
<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.concat">
<code class="sig-name descname">concat</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.concat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.index" title="Permalink to this definition">¶</a></dt>
<dd><p>indexOfBytes</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.split" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.strcasecmp">
<code class="sig-name descname">strcasecmp</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.strcasecmp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.substr">
<code class="sig-name descname">substr</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.substr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.usplit">
<code class="sig-name descname">usplit</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.usplit" title="Permalink to this definition">¶</a></dt>
<dd><p>split</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyAccumulators">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyAccumulators</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyAccumulators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="omegaml-runtimes">
<h2>omegaml.runtimes<a class="headerlink" href="#omegaml-runtimes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="omegaml.runtimes.OmegaRuntime">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaRuntime</code><span class="sig-paren">(</span><em class="sig-param">omega</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">celeryconf=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime" title="Permalink to this definition">¶</a></dt>
<dd><p>omegaml compute cluster gateway</p>
<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.job">
<code class="sig-name descname">job</code><span class="sig-paren">(</span><em class="sig-param">jobname</em>, <em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.job" title="Permalink to this definition">¶</a></dt>
<dd><p>return a job for remote exeuction</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.model">
<code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.model" title="Permalink to this definition">¶</a></dt>
<dd><p>return a model for remote execution</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.ping">
<code class="sig-name descname">ping</code><span class="sig-paren">(</span><em class="sig-param">require=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.ping" title="Permalink to this definition">¶</a></dt>
<dd><p>ping the runtimes</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job
args (tuple): task args
kwargs (dict): task kwargs</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.require">
<code class="sig-name descname">require</code><span class="sig-paren">(</span><em class="sig-param">label=None</em>, <em class="sig-param">always=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.require" title="Permalink to this definition">¶</a></dt>
<dd><p>specify requirements for the task execution</p>
<p>Use this to specify resource or routing requirements on the next task
call sent to the runtime. Any requirements will be reset after the
call has been submitted.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>always (bool): if True requirements will persist across task calls. defaults to False
label (str): the label required by the worker to have a runtime task dispatched to it
kwargs: requirements specification that the runtime understands</p>
</dd>
<dt>Usage:</dt><dd><p>om.runtime.require(label=’gpu’).model(‘foo’).fit(…)</p>
</dd>
<dt>Returns:</dt><dd><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.script">
<code class="sig-name descname">script</code><span class="sig-paren">(</span><em class="sig-param">scriptname</em>, <em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.script" title="Permalink to this definition">¶</a></dt>
<dd><p>return a script for remote execution</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.settings">
<code class="sig-name descname">settings</code><span class="sig-paren">(</span><em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>return the runtimes’s cluster settings</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.task">
<code class="sig-name descname">task</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.task" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve the task function from the celery instance</p>
<dl class="simple">
<dt>Args:</dt><dd><p>kwargs (dict): routing keywords to CeleryTask.apply_async</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.runtimes.OmegaModelProxy">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaModelProxy</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">runtime=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaModelProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>proxy to a remote model in a celery worker</p>
<p>The proxy provides the same methods as the model but will
execute the methods using celery tasks and return celery
AsyncResult objects</p>
<p>Usage:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">om</span> <span class="o">=</span> <span class="n">Omega</span><span class="p">()</span>
<span class="c1"># train a model</span>
<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="s1">&#39;datax&#39;</span><span class="p">,</span> <span class="s1">&#39;datay&#39;</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

<span class="c1"># predict</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="s1">&#39;datax&#39;</span><span class="p">)</span>
<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="nb">print</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<dl class="method">
<dt id="omegaml.runtimes.OmegaModelProxy.apply_mixins">
<code class="sig-name descname">apply_mixins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaModelProxy.apply_mixins" title="Permalink to this definition">¶</a></dt>
<dd><p>apply mixins in defaults.OMEGA_RUNTIME_MIXINS</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaModelProxy.task">
<code class="sig-name descname">task</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaModelProxy.task" title="Permalink to this definition">¶</a></dt>
<dd><p>return the task from the runtime with requirements applied</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.runtimes.OmegaJobProxy">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaJobProxy</code><span class="sig-paren">(</span><em class="sig-param">jobname</em>, <em class="sig-param">runtime=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaJobProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>proxy to a remote job in a celery worker</p>
<p>Usage:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">om</span> <span class="o">=</span> <span class="n">Omega</span><span class="p">()</span>
<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">job</span><span class="p">(</span><span class="s1">&#39;foojob&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">job</span><span class="p">(</span><span class="s1">&#39;foojob&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">schedule</span><span class="p">()</span>
<span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<dl class="method">
<dt id="omegaml.runtimes.OmegaJobProxy.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaJobProxy.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run the job</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the result</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaJobProxy.schedule">
<code class="sig-name descname">schedule</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaJobProxy.schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>schedule the job</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.runtimes.OmegaRuntimeDask">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaRuntimeDask</code><span class="sig-paren">(</span><em class="sig-param">omega</em>, <em class="sig-param">dask_url=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask" title="Permalink to this definition">¶</a></dt>
<dd><p>omegaml compute cluster gateway to a dask distributed cluster</p>
<p>set environ DASK_DEBUG=1 to run dask tasks locally</p>
<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.job">
<code class="sig-name descname">job</code><span class="sig-paren">(</span><em class="sig-param">jobname</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.job" title="Permalink to this definition">¶</a></dt>
<dd><p>return a job for remote exeuction</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.model">
<code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">modelname</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.model" title="Permalink to this definition">¶</a></dt>
<dd><p>return a model for remote execution</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.settings">
<code class="sig-name descname">settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>return the runtimes’s cluster settings</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.task">
<code class="sig-name descname">task</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.task" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve the task function from the task module</p>
<p>This retrieves the task function and wraps it into a 
DaskTask. DaskTask mimicks a celery task and is 
called on the cluster using .delay(), the same way we
call a celery task. .delay() will return a DaskAsyncResult,
supporting the celery .get() semantics. This way we can use
the same proxy objects, as all they do is call .delay() and
return an AsyncResult.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegaml-documents">
<h2>omegaml.documents<a class="headerlink" href="#omegaml-documents" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">omegaml.documents.</code><code class="sig-name descname">Metadata</code></dt>
<dd><p>Metadata stores information about objects in OmegaStore</p>
<dl class="attribute">
<dt>
<code class="sig-name descname">attributes</code></dt>
<dd><p>customer-defined other meta attributes</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">bucket</code></dt>
<dd><p>bucket</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">collection</code></dt>
<dd><p>for PANDAS_DFROWS this is the collection</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">created</code></dt>
<dd><p>created datetime</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">gridfile</code></dt>
<dd><p>for PANDAS_HDF and SKLEARN_JOBLIB this is the gridfile</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">kind</code></dt>
<dd><p>kind of data</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">kind_meta</code></dt>
<dd><p>omegaml technical attributes, e.g. column indicies</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">modified</code></dt>
<dd><p>created datetime</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">name</code></dt>
<dd><p>this is the name of the data</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">objid</code></dt>
<dd><p>for PYTHON_DATA this is the actual document</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">prefix</code></dt>
<dd><p>prefix</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">s3file</code></dt>
<dd><p>s3file attributes</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">uri</code></dt>
<dd><p>location URI</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegaml-jobs">
<h2>omegaml.jobs<a class="headerlink" href="#omegaml-jobs" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="omegaml.notebook.jobs.OmegaJobs">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.notebook.jobs.</code><code class="sig-name descname">OmegaJobs</code><span class="sig-paren">(</span><em class="sig-param">prefix=None</em>, <em class="sig-param">store=None</em>, <em class="sig-param">defaults=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Omega Jobs API</p>
<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">code</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.create" title="Permalink to this definition">¶</a></dt>
<dd><p>create a notebook from code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> – the code as a string</p></li>
<li><p><strong>name</strong> – the name of the job to create</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the metadata object created</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.drop_schedule">
<code class="sig-name descname">drop_schedule</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.drop_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop an existing schedule, if any</p>
<p>This will drop any existing schedule and any pending triggers of
event-kind ‘scheduled’.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name (str): the name of the job</p>
</dd>
<dt>Returns:</dt><dd><p>Metadata</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.export">
<code class="sig-name descname">export</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">localpath</em>, <em class="sig-param">format='html'</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Export a job or result file to HTML</p>
<p>The job is exported in the given format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the job, as in jobs.get</p></li>
<li><p><strong>localpath</strong> – the path of the local file to write. If you
specify an empty path or ‘memory’ a tuple of (body, resource)
is returned instead</p></li>
<li><p><strong>format</strong> – the output format. currently only <code class="code docutils literal notranslate"><span class="pre">'html'</span></code> is supported</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the (data, resources) tuple as returned by nbconvert. For
format html data is the HTML’s body, for PDF it is the pdf file contents</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a notebook and return a NotebookNode</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get_collection">
<code class="sig-name descname">get_collection</code><span class="sig-paren">(</span><em class="sig-param">collection</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the collection object</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get_notebook_config">
<code class="sig-name descname">get_notebook_config</code><span class="sig-paren">(</span><em class="sig-param">nb_filename</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get_notebook_config" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the omegaml script config on
the notebook’s first cell</p>
<p>If there is no config cell or the config cell is invalid raises
a ValueError</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get_schedule">
<code class="sig-name descname">get_schedule</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">only_pending=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>return the cron schedule and corresponding triggers</p>
<dl>
<dt>Args:</dt><dd><p>name (str): the name of the job</p>
</dd>
<dt>Returns:</dt><dd><p>tuple of (run_at, triggers)</p>
<p>run_at (str): the cron spec, None if not scheduled
triggers (list): the list of triggers</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.list">
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param">pattern=None</em>, <em class="sig-param">regexp=None</em>, <em class="sig-param">raw=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.list" title="Permalink to this definition">¶</a></dt>
<dd><p>list all jobs matching filter.
filter is a regex on the name of the ipynb entry.
The default is all, i.e. <cite>.*</cite></p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Store a NotebookNode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the NotebookNode to store</p></li>
<li><p><strong>name</strong> – the name of the notebook</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a job immediately</p>
<p>The job is run and the results are stored in the given filename</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the name of the jobfile</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the metadata of the job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.run_notebook">
<code class="sig-name descname">run_notebook</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.run_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>run a given notebook immediately.
the job parameter is the name of the job script as in ipynb.
Inserts and returns the Metadata document for the job.</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.schedule">
<code class="sig-name descname">schedule</code><span class="sig-paren">(</span><em class="sig-param">nb_file</em>, <em class="sig-param">run_at=None</em>, <em class="sig-param">last_run=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule a processing of a notebook as per the interval
specified on the job script</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegajobs">
<h2>omegajobs<a class="headerlink" href="#omegajobs" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.notebook.omegacontentsmgr.</code><code class="sig-name descname">OmegaStoreContentsManager</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Jupyter notebook storage manager for omegaml</p>
<p>Adopted from notebook/services/contents/filemanager.py</p>
<p>This requires a properly configured omegaml instance.
see <a class="reference external" href="http://jupyter-notebook.readthedocs.io/en/stable/extending/contents.html">http://jupyter-notebook.readthedocs.io/en/stable/extending/contents.html</a></p>
<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.delete_file">
<code class="sig-name descname">delete_file</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.delete_file" title="Permalink to this definition">¶</a></dt>
<dd><p>delete an entry</p>
<p>this is called by the contents engine to delete an entry</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.dir_exists">
<code class="sig-name descname">dir_exists</code><span class="sig-paren">(</span><em class="sig-param">path=''</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.dir_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>check if directory exists</p>
<dl class="simple">
<dt>Args:</dt><dd><p>path: name of directory</p>
</dd>
<dt>Returns:</dt><dd><p>True if directory exists</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a file or dir exist at the given collection in gridFS?
We do not have dir so dir_exists returns true.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – (str) The relative path to the file’s directory
(with ‘/’ as separator)</p>
</dd>
<dt class="field-even">Returns exists</dt>
<dd class="field-even"><p>(boo) The relative path to the file’s directory (with ‘/’ as separator)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.file_exists">
<code class="sig-name descname">file_exists</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.file_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>check if file exists</p>
<dl class="simple">
<dt>Args:</dt><dd><p>path: name of file</p>
</dd>
<dt>Returns:</dt><dd><p>True if file exists</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">content=True</em>, <em class="sig-param">type=None</em>, <em class="sig-param">format=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.get" title="Permalink to this definition">¶</a></dt>
<dd><p>get an entry in the store</p>
<p>this is called by the contents engine to get the contents of the jobs
store.</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.is_hidden">
<code class="sig-name descname">is_hidden</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.is_hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>check if path or file is hidden</p>
<dl class="simple">
<dt>Args:</dt><dd><p>path: name of file or path</p>
</dd>
<dt>Returns:</dt><dd><p>False, currently always returns false</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.omega">
<em class="property">property </em><code class="sig-name descname">omega</code><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.omega" title="Permalink to this definition">¶</a></dt>
<dd><p>return the omega instance used by the contents manager</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.rename_file">
<code class="sig-name descname">rename_file</code><span class="sig-paren">(</span><em class="sig-param">old_path</em>, <em class="sig-param">new_path</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.rename_file" title="Permalink to this definition">¶</a></dt>
<dd><p>rename a file</p>
<p>this is called by the contents engine to rename an entry</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.save" title="Permalink to this definition">¶</a></dt>
<dd><p>save an entry in the store</p>
<p>this is called by the contents engine to store a notebook</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.store">
<em class="property">property </em><code class="sig-name descname">store</code><a class="headerlink" href="#omegaml.notebook.omegacontentsmgr.OmegaStoreContentsManager.store" title="Permalink to this definition">¶</a></dt>
<dd><p>return the OmageStore for jobs (notebooks)</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../nb/index.html" class="btn btn-neutral float-right" title="Tutorial Notebooks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="public.html" class="btn btn-neutral" title="Public API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 (c) omegaml.io by one2seven GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>