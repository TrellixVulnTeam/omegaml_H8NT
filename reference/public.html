

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Public API &mdash; omega|ml 1.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="omega|ml 1.1 documentation" href="../index.html"/>
        <link rel="up" title="Reference" href="index.html"/>
        <link rel="next" title="Developer API" href="developer.html"/>
        <link rel="prev" title="Reference" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> omega|ml
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devguide/index.html">Development Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Public API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-api-overview">Python API (overview)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-api">Python API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#omega-ml">omega|ml</a></li>
<li class="toctree-l4"><a class="reference internal" href="#omegaml-store">omegaml.store</a></li>
<li class="toctree-l4"><a class="reference internal" href="#omegaml-runtimes">omegaml.runtimes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#omegaml-jobs">omegaml.jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#omegaml-mdataframe">omegaml.mdataframe</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer.html">Developer API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nb/index.html">Tutorial Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">omega|ml</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Reference</a> &raquo;</li>
        
      <li>Public API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/public.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="public-api">
<h1>Public API<a class="headerlink" href="#public-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="python-api-overview">
<h2>Python API (overview)<a class="headerlink" href="#python-api-overview" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#omegaml.datasets" title="omegaml.datasets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.datasets</span></code></a></p></td>
<td><p>the OmegaStore for datasets</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#omegaml.models" title="omegaml.models"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.models</span></code></a></p></td>
<td><p>the OmegaStore for models</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#omegaml.runtimes" title="omegaml.runtimes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.runtimes</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="developer.html#omegaml.jobs" title="omegaml.jobs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.jobs</span></code></a></p></td>
<td><p>the jobs API</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="developer.html#omegaml.scripts" title="omegaml.scripts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.scripts</span></code></a></p></td>
<td><p>the OmegaStore for lambda scripts</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="developer.html#omegaml.store.base.OmegaStore" title="omegaml.store.base.OmegaStore"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.store.base.OmegaStore</span></code></a>([mongo_url, …])</p></td>
<td><p>The storage backend for models and data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#omegaml.runtimes.OmegaRuntime" title="omegaml.runtimes.OmegaRuntime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.runtimes.OmegaRuntime</span></code></a>(omega[, …])</p></td>
<td><p>omegaml compute cluster gateway</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#omegaml.runtimes.OmegaRuntimeDask" title="omegaml.runtimes.OmegaRuntimeDask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.runtimes.OmegaRuntimeDask</span></code></a>(omega[, …])</p></td>
<td><p>omegaml compute cluster gateway to a dask distributed cluster</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#omegaml.runtimes.OmegaModelProxy" title="omegaml.runtimes.OmegaModelProxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.runtimes.OmegaModelProxy</span></code></a>(modelname)</p></td>
<td><p>proxy to a remote model in a celery worker</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#omegaml.runtimes.OmegaJobProxy" title="omegaml.runtimes.OmegaJobProxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.runtimes.OmegaJobProxy</span></code></a>(jobname[, …])</p></td>
<td><p>proxy to a remote job in a celery worker</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#omegaml.notebook.jobs.OmegaJobs" title="omegaml.notebook.jobs.OmegaJobs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.notebook.jobs.OmegaJobs</span></code></a>([prefix, …])</p></td>
<td><p>Omega Jobs API</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#omegaml.mdataframe.MDataFrame" title="omegaml.mdataframe.MDataFrame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.mdataframe.MDataFrame</span></code></a>(collection[, …])</p></td>
<td><p>A DataFrame for mongodb</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#omegaml.mdataframe.MGrouper" title="omegaml.mdataframe.MGrouper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.mdataframe.MGrouper</span></code></a>(mdataframe, …)</p></td>
<td><p>a Grouper for MDataFrames</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#omegaml.mdataframe.MLocIndexer" title="omegaml.mdataframe.MLocIndexer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.mdataframe.MLocIndexer</span></code></a>(mdataframe[, …])</p></td>
<td><p>implements the LocIndexer for MDataFrames</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#omegaml.mdataframe.MPosIndexer" title="omegaml.mdataframe.MPosIndexer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.mdataframe.MPosIndexer</span></code></a>(mdataframe)</p></td>
<td><p>implements the position-based indexer for MDataFrames</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#omegaml.backends.sqlalchemy.SQLAlchemyBackend" title="omegaml.backends.sqlalchemy.SQLAlchemyBackend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">omegaml.backends.sqlalchemy.SQLAlchemyBackend</span></code></a>([…])</p></td>
<td><p>sqlalchemy plugin for omegaml</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="python-api">
<h2>Python API<a class="headerlink" href="#python-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="omega-ml">
<h3>omega|ml<a class="headerlink" href="#omega-ml" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="omegaml.datasets">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">datasets</code><em class="property"> - storage for data</em><a class="headerlink" href="#omegaml.datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>the OmegaStore for datasets</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.models">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">models</code><em class="property"> - storage for models</em><a class="headerlink" href="#omegaml.models" title="Permalink to this definition">¶</a></dt>
<dd><p>the OmegaStore for models</p>
</dd></dl>

<dl class="data">
<dt id="omegaml.runtimes">
<code class="sig-prename descclassname">omegaml.</code><code class="sig-name descname">runtimes</code><em class="property"> - the cluster runtime API</em><a class="headerlink" href="#omegaml.runtimes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="omegaml.notebook.jobs">
<code class="sig-prename descclassname">omegaml.notebook.</code><code class="sig-name descname">jobs</code><em class="property"> - the lambda compute service</em><a class="headerlink" href="#omegaml.notebook.jobs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="omegaml-store">
<h3>omegaml.store<a class="headerlink" href="#omegaml-store" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">omegaml.store.base.</code><code class="sig-name descname">OmegaStore</code><span class="sig-paren">(</span><em class="sig-param">mongo_url=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">dbalias=None</em><span class="sig-paren">)</span></dt>
<dd><p>The storage backend for models and data</p>
<dl class="method">
<dt>
<code class="sig-name descname">collection</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a mongo db collection as a datastore</p>
<p>If there is an existing object of name, will return the .collection
of the object. Otherwise returns the collection according to naming
convention {bucket}.{prefix}.{name}.datastore</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the collection to use. if none defaults to the
collection name given on instantiation. the actual collection name
used is always prefix + name + ‘.data’</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">drop</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">force=False</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Drop the object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the object</p></li>
<li><p><strong>force</strong> – If True ignores DoesNotExist exception, defaults to False
meaning this raises a DoesNotExist exception of the name does not
exist</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if object was deleted, False if not.
If force is True and
the object does not exist it will still return True</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">fs</code></dt>
<dd><p>Retrieve a gridfs instance using url and collection provided</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a gridfs instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">force_python=False</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve an object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the object</p></li>
<li><p><strong>version</strong> – Version of the stored object (not supported)</p></li>
<li><p><strong>force_python</strong> – Return as a python object</p></li>
<li><p><strong>kwargs</strong> – kwargs depending on object kind</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an object, estimator, pipelines, data array or pandas dataframe
previously stored with put()</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_backend</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return the backend by a given object name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – The object kind</p></li>
<li><p><strong>model_store</strong> – the OmegaStore instance used to store models</p></li>
<li><p><strong>data_store</strong> – the OmegaStore instance used to store data</p></li>
<li><p><strong>kwargs</strong> – the kwargs passed to the backend initialization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the backend</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_backend_bykind</code><span class="sig-paren">(</span><em class="sig-param">kind</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return the backend by a given object kind</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – The object kind</p></li>
<li><p><strong>model_store</strong> – the OmegaStore instance used to store models</p></li>
<li><p><strong>data_store</strong> – the OmegaStore instance used to store data</p></li>
<li><p><strong>kwargs</strong> – the kwargs passed to the backend initialization</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the backend</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_backend_byobj</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return the matching backend for the given obj</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>the first backend that supports the given parameters or None</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_dataframe_dfgroup</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">kwargs=None</em><span class="sig-paren">)</span></dt>
<dd><p>Return a grouped dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the object</p></li>
<li><p><strong>version</strong> – not supported</p></li>
<li><p><strong>kwargs</strong> – mongo db query arguments to be passed to
collection.find() as a filter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_dataframe_documents</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">columns=None</em>, <em class="sig-param">lazy=False</em>, <em class="sig-param">filter=None</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">is_series=False</em>, <em class="sig-param">chunksize=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Internal method to return DataFrame from documents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the object (str)</p></li>
<li><p><strong>columns</strong> – the column projection as a list of column names</p></li>
<li><p><strong>lazy</strong> – if True returns a lazy representation as an MDataFrame.
If False retrieves all data and returns a DataFrame (default)</p></li>
<li><p><strong>filter</strong> – the filter to be applied as a column__op=value dict</p></li>
<li><p><strong>version</strong> – the version to retrieve (not supported)</p></li>
<li><p><strong>is_series</strong> – if True retruns a Series instead of a DataFrame</p></li>
<li><p><strong>kwargs</strong> – remaining kwargs are used a filter. The filter kwarg
overrides other kwargs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the retrieved object (DataFrame, Series or MDataFrame)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_dataframe_hdf</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve dataframe from hdf</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>version</strong> – The version of object (not supported)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a python pandas dataframe</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>gridfs.errors.NoFile</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_object_as_python</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve object as python object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> – The metadata object</p></li>
<li><p><strong>version</strong> – The version of the object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns data as python object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">get_python_data</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">version=-1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Retrieve objects as python data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>version</strong> – The version of object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the object as python list object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">getl</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>return a lazy MDataFrame for a given object</p>
<p>Same as .get, but returns a MDataFrame</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param">pattern=None</em>, <em class="sig-param">regexp=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">raw=False</em>, <em class="sig-param">hidden=None</em>, <em class="sig-param">include_temp=False</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">filter=None</em><span class="sig-paren">)</span></dt>
<dd><p>List all files in store</p>
<p>specify pattern as a unix pattern (e.g. <code class="code docutils literal notranslate"><span class="pre">models/*</span></code>,
or specify regexp)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> – the unix file pattern or None for all</p></li>
<li><p><strong>regexp</strong> – the regexp. takes precedence over pattern</p></li>
<li><p><strong>raw</strong> – if True return the meta data objects</p></li>
<li><p><strong>filter</strong> – specify additional filter criteria, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of files in store</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">make_metadata</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">kind</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>create or update a metadata object</p>
<p>this retrieves a Metadata object if it exists given the kwargs. Only
the name, prefix and bucket arguments are considered</p>
<p>for existing Metadata objects, the attributes kw is treated as follows:</p>
<ul class="simple">
<li><p>attributes=None, the existing attributes are left as is</p></li>
<li><p>attributes={}, the attributes value on an existing metadata object
is reset to the empty dict</p></li>
<li><p>attributes={ some : value }, the existing attributes are updated</p></li>
</ul>
<p>For new metadata objects, attributes defaults to {} if not specified,
else is set as provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the object name</p></li>
<li><p><strong>bucket</strong> – the bucket, optional, defaults to self.bucket</p></li>
<li><p><strong>prefix</strong> – the prefix, optional, defaults to self.prefix</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">metadata</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">version=-1</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a metadata document for the given entry name</p>
<p>FIXME: version attribute does not do anything
FIXME: metadata should be stored in a bucket-specific collection
to enable access control, see <a class="reference external" href="https://docs.mongodb.com/manual/reference/method/db.createRole/#db.createRole">https://docs.mongodb.com/manual/reference/method/db.createRole/#db.createRole</a></p>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">mongodb</code></dt>
<dd><p>Returns a mongo database object</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">object_store_key</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">ext</em>, <em class="sig-param">hashed=False</em><span class="sig-paren">)</span></dt>
<dd><p>Returns the store key</p>
<p>Unless you write a mixin or a backend you should not use this method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of object</p></li>
<li><p><strong>ext</strong> – The extension of the filename</p></li>
<li><p><strong>hashed</strong> – hash the key to support arbitrary name length, defaults to False,
will default to True in future versions</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A filename with relative bucket, prefix and name</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">kind=None</em>, <em class="sig-param">replace=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Stores an object, store estimators, pipelines, numpy arrays or
pandas dataframes</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_dataframe_as_dfgroup</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">groupby</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span></dt>
<dd><p>store a dataframe grouped by columns in a mongo document</p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p>&gt; # each group
&gt;  {
&gt;     #group keys
&gt;     key: val,
&gt;     _data: [
&gt;      # only data keys
&gt;        { key: val, … }
&gt;     ]}</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_dataframe_as_documents</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">append=None</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">timestamp=None</em>, <em class="sig-param">chunksize=None</em><span class="sig-paren">)</span></dt>
<dd><p>store a dataframe as a row-wise collection of documents</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the dataframe to store</p></li>
<li><p><strong>name</strong> – the name of the item in the store</p></li>
<li><p><strong>append</strong> – if False collection will be dropped before inserting,
if True existing documents will persist. Defaults to True. If not
specified and rows have been previously inserted, will issue a
warning.</p></li>
<li><p><strong>index</strong> – list of columns, using +, -, &#64; as a column prefix to
specify ASCENDING, DESCENDING, GEOSPHERE respectively. For &#64; the
column has to represent a valid GeoJSON object.</p></li>
<li><p><strong>timestamp</strong> – if True or a field name adds a timestamp. If the
value is a boolean or datetime, uses _created as the field name.
The timestamp is always datetime.datetime.utcnow(). May be overriden
by specifying the tuple (col, datetime).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the Metadata object created</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_ndarray_as_hdf</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span></dt>
<dd><p>store numpy array as hdf</p>
<p>this is hack, converting the array to a dataframe then storing
it</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_pyobj_as_document</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">append=True</em><span class="sig-paren">)</span></dt>
<dd><p>store a dict as a document</p>
<p>similar to put_dataframe_as_documents no data will be replaced by
default. that is, obj is appended as new documents into the objects’
mongo collection. to replace the data, specify append=False.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">put_pyobj_as_hdf</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span></dt>
<dd><p>store list, tuple, dict as hdf</p>
<p>this requires the list, tuple or dict to be convertible into
a dataframe</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">rebuild_params</code><span class="sig-paren">(</span><em class="sig-param">kwargs</em>, <em class="sig-param">collection</em><span class="sig-paren">)</span></dt>
<dd><p>Returns a modified set of parameters for querying mongodb
based on how the mongo document is structured and the
fields the document is grouped by.</p>
<p><strong>Note: Explicitly to be used with get_grouped_data only</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs</strong> – Mongo filter arguments</p></li>
<li><p><strong>collection</strong> – The name of mongodb collection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a set of parameters as dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">register_backend</code><span class="sig-paren">(</span><em class="sig-param">kind</em>, <em class="sig-param">backend</em><span class="sig-paren">)</span></dt>
<dd><p>register a backend class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – (str) the backend kind</p></li>
<li><p><strong>backend</strong> – (class) the backend class</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">register_backends</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>register backends in defaults.OMEGA_STORE_BACKENDS</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">register_mixin</code><span class="sig-paren">(</span><em class="sig-param">mixincls</em><span class="sig-paren">)</span></dt>
<dd><p>register a mixin class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mixincls</strong> – (class) the mixin class</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">tmppath</code></dt>
<dd><p>return an instance-specific temporary path</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegaml-runtimes">
<h3>omegaml.runtimes<a class="headerlink" href="#omegaml-runtimes" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="omegaml.runtimes.OmegaRuntime">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaRuntime</code><span class="sig-paren">(</span><em class="sig-param">omega</em>, <em class="sig-param">bucket=None</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">celeryconf=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime" title="Permalink to this definition">¶</a></dt>
<dd><p>omegaml compute cluster gateway</p>
<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.job">
<code class="sig-name descname">job</code><span class="sig-paren">(</span><em class="sig-param">jobname</em>, <em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.job" title="Permalink to this definition">¶</a></dt>
<dd><p>return a job for remote exeuction</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.model">
<code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.model" title="Permalink to this definition">¶</a></dt>
<dd><p>return a model for remote execution</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.ping">
<code class="sig-name descname">ping</code><span class="sig-paren">(</span><em class="sig-param">require=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.ping" title="Permalink to this definition">¶</a></dt>
<dd><p>ping the runtimes</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job
args (tuple): task args
kwargs (dict): task kwargs</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.require">
<code class="sig-name descname">require</code><span class="sig-paren">(</span><em class="sig-param">label=None</em>, <em class="sig-param">always=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.require" title="Permalink to this definition">¶</a></dt>
<dd><p>specify requirements for the task execution</p>
<p>Use this to specify resource or routing requirements on the next task
call sent to the runtime. Any requirements will be reset after the
call has been submitted.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>always (bool): if True requirements will persist across task calls. defaults to False
label (str): the label required by the worker to have a runtime task dispatched to it
kwargs: requirements specification that the runtime understands</p>
</dd>
<dt>Usage:</dt><dd><p>om.runtime.require(label=’gpu’).model(‘foo’).fit(…)</p>
</dd>
<dt>Returns:</dt><dd><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.script">
<code class="sig-name descname">script</code><span class="sig-paren">(</span><em class="sig-param">scriptname</em>, <em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.script" title="Permalink to this definition">¶</a></dt>
<dd><p>return a script for remote execution</p>
<dl class="simple">
<dt>Args:</dt><dd><p>require (dict): routing requirements for this job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.settings">
<code class="sig-name descname">settings</code><span class="sig-paren">(</span><em class="sig-param">require=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>return the runtimes’s cluster settings</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntime.task">
<code class="sig-name descname">task</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntime.task" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve the task function from the celery instance</p>
<dl class="simple">
<dt>Args:</dt><dd><p>kwargs (dict): routing keywords to CeleryTask.apply_async</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.runtimes.OmegaRuntimeDask">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaRuntimeDask</code><span class="sig-paren">(</span><em class="sig-param">omega</em>, <em class="sig-param">dask_url=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask" title="Permalink to this definition">¶</a></dt>
<dd><p>omegaml compute cluster gateway to a dask distributed cluster</p>
<p>set environ DASK_DEBUG=1 to run dask tasks locally</p>
<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.job">
<code class="sig-name descname">job</code><span class="sig-paren">(</span><em class="sig-param">jobname</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.job" title="Permalink to this definition">¶</a></dt>
<dd><p>return a job for remote exeuction</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.model">
<code class="sig-name descname">model</code><span class="sig-paren">(</span><em class="sig-param">modelname</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.model" title="Permalink to this definition">¶</a></dt>
<dd><p>return a model for remote execution</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.settings">
<code class="sig-name descname">settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>return the runtimes’s cluster settings</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaRuntimeDask.task">
<code class="sig-name descname">task</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaRuntimeDask.task" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve the task function from the task module</p>
<p>This retrieves the task function and wraps it into a 
DaskTask. DaskTask mimicks a celery task and is 
called on the cluster using .delay(), the same way we
call a celery task. .delay() will return a DaskAsyncResult,
supporting the celery .get() semantics. This way we can use
the same proxy objects, as all they do is call .delay() and
return an AsyncResult.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.runtimes.OmegaModelProxy">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaModelProxy</code><span class="sig-paren">(</span><em class="sig-param">modelname</em>, <em class="sig-param">runtime=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaModelProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>proxy to a remote model in a celery worker</p>
<p>The proxy provides the same methods as the model but will
execute the methods using celery tasks and return celery
AsyncResult objects</p>
<p>Usage:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">om</span> <span class="o">=</span> <span class="n">Omega</span><span class="p">()</span>
<span class="c1"># train a model</span>
<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="s1">&#39;datax&#39;</span><span class="p">,</span> <span class="s1">&#39;datay&#39;</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

<span class="c1"># predict</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="s1">&#39;datax&#39;</span><span class="p">)</span>
<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="nb">print</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<dl class="method">
<dt id="omegaml.runtimes.OmegaModelProxy.apply_mixins">
<code class="sig-name descname">apply_mixins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaModelProxy.apply_mixins" title="Permalink to this definition">¶</a></dt>
<dd><p>apply mixins in defaults.OMEGA_RUNTIME_MIXINS</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaModelProxy.task">
<code class="sig-name descname">task</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaModelProxy.task" title="Permalink to this definition">¶</a></dt>
<dd><p>return the task from the runtime with requirements applied</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.runtimes.OmegaJobProxy">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.runtimes.</code><code class="sig-name descname">OmegaJobProxy</code><span class="sig-paren">(</span><em class="sig-param">jobname</em>, <em class="sig-param">runtime=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaJobProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>proxy to a remote job in a celery worker</p>
<p>Usage:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">om</span> <span class="o">=</span> <span class="n">Omega</span><span class="p">()</span>
<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">job</span><span class="p">(</span><span class="s1">&#39;foojob&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

<span class="c1"># result is AsyncResult, use .get() to return it&#39;s result</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">om</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">job</span><span class="p">(</span><span class="s1">&#39;foojob&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">schedule</span><span class="p">()</span>
<span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<dl class="method">
<dt id="omegaml.runtimes.OmegaJobProxy.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaJobProxy.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run the job</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the result</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.runtimes.OmegaJobProxy.schedule">
<code class="sig-name descname">schedule</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.runtimes.OmegaJobProxy.schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>schedule the job</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegaml-jobs">
<h3>omegaml.jobs<a class="headerlink" href="#omegaml-jobs" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="omegaml.notebook.jobs.OmegaJobs">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.notebook.jobs.</code><code class="sig-name descname">OmegaJobs</code><span class="sig-paren">(</span><em class="sig-param">prefix=None</em>, <em class="sig-param">store=None</em>, <em class="sig-param">defaults=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Omega Jobs API</p>
<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">code</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.create" title="Permalink to this definition">¶</a></dt>
<dd><p>create a notebook from code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> – the code as a string</p></li>
<li><p><strong>name</strong> – the name of the job to create</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the metadata object created</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.drop_schedule">
<code class="sig-name descname">drop_schedule</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.drop_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop an existing schedule, if any</p>
<p>This will drop any existing schedule and any pending triggers of
event-kind ‘scheduled’.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name (str): the name of the job</p>
</dd>
<dt>Returns:</dt><dd><p>Metadata</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.export">
<code class="sig-name descname">export</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">localpath</em>, <em class="sig-param">format='html'</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Export a job or result file to HTML</p>
<p>The job is exported in the given format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – the name of the job, as in jobs.get</p></li>
<li><p><strong>localpath</strong> – the path of the local file to write. If you
specify an empty path or ‘memory’ a tuple of (body, resource)
is returned instead</p></li>
<li><p><strong>format</strong> – the output format. currently only <code class="code docutils literal notranslate"><span class="pre">'html'</span></code> is supported</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the (data, resources) tuple as returned by nbconvert. For
format html data is the HTML’s body, for PDF it is the pdf file contents</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a notebook and return a NotebookNode</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get_collection">
<code class="sig-name descname">get_collection</code><span class="sig-paren">(</span><em class="sig-param">collection</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the collection object</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get_notebook_config">
<code class="sig-name descname">get_notebook_config</code><span class="sig-paren">(</span><em class="sig-param">nb_filename</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get_notebook_config" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the omegaml script config on
the notebook’s first cell</p>
<p>If there is no config cell or the config cell is invalid raises
a ValueError</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.get_schedule">
<code class="sig-name descname">get_schedule</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">only_pending=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.get_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>return the cron schedule and corresponding triggers</p>
<dl>
<dt>Args:</dt><dd><p>name (str): the name of the job</p>
</dd>
<dt>Returns:</dt><dd><p>tuple of (run_at, triggers)</p>
<p>run_at (str): the cron spec, None if not scheduled
triggers (list): the list of triggers</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.list">
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param">pattern=None</em>, <em class="sig-param">regexp=None</em>, <em class="sig-param">raw=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.list" title="Permalink to this definition">¶</a></dt>
<dd><p>list all jobs matching filter.
filter is a regex on the name of the ipynb entry.
The default is all, i.e. <cite>.*</cite></p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">attributes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Store a NotebookNode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – the NotebookNode to store</p></li>
<li><p><strong>name</strong> – the name of the notebook</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a job immediately</p>
<p>The job is run and the results are stored in the given filename</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the name of the jobfile</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the metadata of the job</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.run_notebook">
<code class="sig-name descname">run_notebook</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.run_notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>run a given notebook immediately.
the job parameter is the name of the job script as in ipynb.
Inserts and returns the Metadata document for the job.</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.notebook.jobs.OmegaJobs.schedule">
<code class="sig-name descname">schedule</code><span class="sig-paren">(</span><em class="sig-param">nb_file</em>, <em class="sig-param">run_at=None</em>, <em class="sig-param">last_run=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.notebook.jobs.OmegaJobs.schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedule a processing of a notebook as per the interval
specified on the job script</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omegaml-mdataframe">
<h3>omegaml.mdataframe<a class="headerlink" href="#omegaml-mdataframe" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="omegaml.mdataframe.MDataFrame">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mdataframe.</code><code class="sig-name descname">MDataFrame</code><span class="sig-paren">(</span><em class="sig-param">collection</em>, <em class="sig-param">columns=None</em>, <em class="sig-param">query=None</em>, <em class="sig-param">limit=None</em>, <em class="sig-param">skip=None</em>, <em class="sig-param">sort_order=None</em>, <em class="sig-param">force_columns=None</em>, <em class="sig-param">immediate_loc=False</em>, <em class="sig-param">auto_inspect=False</em>, <em class="sig-param">normalize=False</em>, <em class="sig-param">raw=False</em>, <em class="sig-param">parser=None</em>, <em class="sig-param">preparefn=None</em>, <em class="sig-param">from_loc_range=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>A DataFrame for mongodb</p>
<p>Performs out-of-core, lazy computOation on a mongodb cluster.
Behaves like a pandas DataFrame. Actual results are returned
as pandas DataFrames.</p>
<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.__len__">
<code class="sig-name descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>the projected number of rows when resolving</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.count" title="Permalink to this definition">¶</a></dt>
<dd><p>projected number of rows when resolving</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.create_index">
<code class="sig-name descname">create_index</code><span class="sig-paren">(</span><em class="sig-param">keys</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.create_index" title="Permalink to this definition">¶</a></dt>
<dd><p>create and index the easy way</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.groupby">
<code class="sig-name descname">groupby</code><span class="sig-paren">(</span><em class="sig-param">columns</em>, <em class="sig-param">sort=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>Group by a given set of columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> – the list of columns</p></li>
<li><p><strong>sort</strong> – if True sort by group key</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MGrouper</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.head">
<code class="sig-name descname">head</code><span class="sig-paren">(</span><em class="sig-param">limit=10</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.head" title="Permalink to this definition">¶</a></dt>
<dd><p>return up to limit numbers of rows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>limit</strong> – the number of rows to return. Defaults to 10</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.inspect">
<code class="sig-name descname">inspect</code><span class="sig-paren">(</span><em class="sig-param">explain=False</em>, <em class="sig-param">cached=False</em>, <em class="sig-param">cursor=None</em>, <em class="sig-param">raw=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>inspect this dataframe’s actual mongodb query</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>explain</strong> – if True explains access path</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.iterchunks">
<code class="sig-name descname">iterchunks</code><span class="sig-paren">(</span><em class="sig-param">chunksize=100</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.iterchunks" title="Permalink to this definition">¶</a></dt>
<dd><p>return an iterator</p>
<dl class="simple">
<dt>Args:</dt><dd><p>chunksize (int): number of rows in each chunk</p>
</dd>
<dt>Returns:</dt><dd><p>a dataframe of max. length chunksize</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.list_indexes">
<code class="sig-name descname">list_indexes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.list_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>list all indices in database</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.loc">
<em class="property">property </em><code class="sig-name descname">loc</code><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Access by index</p>
<p>Use as mdf.loc[index_value]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MLocIndexer</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.merge">
<code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param">right</em>, <em class="sig-param">on=None</em>, <em class="sig-param">left_on=None</em>, <em class="sig-param">right_on=None</em>, <em class="sig-param">how='inner'</em>, <em class="sig-param">target=None</em>, <em class="sig-param">suffixes=('_x'</em>, <em class="sig-param">'_y')</em>, <em class="sig-param">sort=False</em>, <em class="sig-param">inspect=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>merge this dataframe with another dataframe. only left outer joins
are currently supported. the output is saved as a new collection,
target name (defaults to a generated name if not specified).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>right</strong> – the other MDataFrame</p></li>
<li><p><strong>on</strong> – the list of key columns to merge by</p></li>
<li><p><strong>left_on</strong> – the list of the key columns to merge on this dataframe</p></li>
<li><p><strong>right_on</strong> – the list of the key columns to merge on the other
dataframe</p></li>
<li><p><strong>how</strong> – the method to merge. supported are left, inner, right.
Defaults to inner</p></li>
<li><p><strong>target</strong> – the name of the collection to store the merge results
in. If not provided a temporary name will be created.</p></li>
<li><p><strong>suffixes</strong> – the suffixes to apply to identical left and right
columns</p></li>
<li><p><strong>sort</strong> – if True the merge results will be sorted. If False the
MongoDB natural order is implied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame to the target MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.query" title="Permalink to this definition">¶</a></dt>
<dd><p>return a new MDataFrame with a filter criteria</p>
<p>Any subsequent operation on the new dataframe will have the filter
applied. To reset the filter call .reset() without arguments.</p>
<p>Note: Unlike pandas DataFrames, a filtered MDataFrame operates
on the same collection as the original DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – a Q object or logical combination of Q objects
(optional)</p></li>
<li><p><strong>kwargs</strong> – all AND filter criteria</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new MDataFrame with the filter applied</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.query_inplace">
<code class="sig-name descname">query_inplace</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.query_inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>filters this MDataFrame and returns it.</p>
<p>Any subsequent operation on the dataframe will have the filter
applied. To reset the filter call .reset() without arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – a Q object or logical combination of Q objects
(optional)</p></li>
<li><p><strong>kwargs</strong> – all AND filter criteria</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>return shape of dataframe</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.skip">
<code class="sig-name descname">skip</code><span class="sig-paren">(</span><em class="sig-param">topn</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.skip" title="Permalink to this definition">¶</a></dt>
<dd><p>skip the topn number of rows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>topn</strong> – the number of rows to skip.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.sort">
<code class="sig-name descname">sort</code><span class="sig-paren">(</span><em class="sig-param">columns</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>sort by specified columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> – str of single column or a list of columns. Sort order
is specified as the + (ascending) or - (descending)
prefix to the column name. Default sort order is
ascending.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.tail">
<code class="sig-name descname">tail</code><span class="sig-paren">(</span><em class="sig-param">limit=10</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.tail" title="Permalink to this definition">¶</a></dt>
<dd><p>return up to limit number of rows from last inserted values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>limit</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MDataFrame.value">
<em class="property">property </em><code class="sig-name descname">value</code><a class="headerlink" href="#omegaml.mdataframe.MDataFrame.value" title="Permalink to this definition">¶</a></dt>
<dd><p>resolve the query and return a Pandas DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the result of the query as a pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mdataframe.MSeries">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mdataframe.</code><code class="sig-name descname">MSeries</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Series implementation for MDataFrames</p>
<p>behaves like a DataFrame but limited to one column.</p>
<dl class="method">
<dt id="omegaml.mdataframe.MSeries.__len__">
<code class="sig-name descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>the projected number of rows when resolving</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.count" title="Permalink to this definition">¶</a></dt>
<dd><p>projected number of rows when resolving</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.create_index">
<code class="sig-name descname">create_index</code><span class="sig-paren">(</span><em class="sig-param">keys</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.create_index" title="Permalink to this definition">¶</a></dt>
<dd><p>create and index the easy way</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.groupby">
<code class="sig-name descname">groupby</code><span class="sig-paren">(</span><em class="sig-param">columns</em>, <em class="sig-param">sort=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>Group by a given set of columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> – the list of columns</p></li>
<li><p><strong>sort</strong> – if True sort by group key</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MGrouper</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.head">
<code class="sig-name descname">head</code><span class="sig-paren">(</span><em class="sig-param">limit=10</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.head" title="Permalink to this definition">¶</a></dt>
<dd><p>return up to limit numbers of rows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>limit</strong> – the number of rows to return. Defaults to 10</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.inspect">
<code class="sig-name descname">inspect</code><span class="sig-paren">(</span><em class="sig-param">explain=False</em>, <em class="sig-param">cached=False</em>, <em class="sig-param">cursor=None</em>, <em class="sig-param">raw=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>inspect this dataframe’s actual mongodb query</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>explain</strong> – if True explains access path</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.iterchunks">
<code class="sig-name descname">iterchunks</code><span class="sig-paren">(</span><em class="sig-param">chunksize=100</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.iterchunks" title="Permalink to this definition">¶</a></dt>
<dd><p>return an iterator</p>
<dl class="simple">
<dt>Args:</dt><dd><p>chunksize (int): number of rows in each chunk</p>
</dd>
<dt>Returns:</dt><dd><p>a dataframe of max. length chunksize</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.list_indexes">
<code class="sig-name descname">list_indexes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.list_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>list all indices in database</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.loc">
<em class="property">property </em><code class="sig-name descname">loc</code><a class="headerlink" href="#omegaml.mdataframe.MSeries.loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Access by index</p>
<p>Use as mdf.loc[index_value]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MLocIndexer</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.merge">
<code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param">right</em>, <em class="sig-param">on=None</em>, <em class="sig-param">left_on=None</em>, <em class="sig-param">right_on=None</em>, <em class="sig-param">how='inner'</em>, <em class="sig-param">target=None</em>, <em class="sig-param">suffixes=('_x'</em>, <em class="sig-param">'_y')</em>, <em class="sig-param">sort=False</em>, <em class="sig-param">inspect=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>merge this dataframe with another dataframe. only left outer joins
are currently supported. the output is saved as a new collection,
target name (defaults to a generated name if not specified).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>right</strong> – the other MDataFrame</p></li>
<li><p><strong>on</strong> – the list of key columns to merge by</p></li>
<li><p><strong>left_on</strong> – the list of the key columns to merge on this dataframe</p></li>
<li><p><strong>right_on</strong> – the list of the key columns to merge on the other
dataframe</p></li>
<li><p><strong>how</strong> – the method to merge. supported are left, inner, right.
Defaults to inner</p></li>
<li><p><strong>target</strong> – the name of the collection to store the merge results
in. If not provided a temporary name will be created.</p></li>
<li><p><strong>suffixes</strong> – the suffixes to apply to identical left and right
columns</p></li>
<li><p><strong>sort</strong> – if True the merge results will be sorted. If False the
MongoDB natural order is implied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame to the target MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.query" title="Permalink to this definition">¶</a></dt>
<dd><p>return a new MDataFrame with a filter criteria</p>
<p>Any subsequent operation on the new dataframe will have the filter
applied. To reset the filter call .reset() without arguments.</p>
<p>Note: Unlike pandas DataFrames, a filtered MDataFrame operates
on the same collection as the original DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – a Q object or logical combination of Q objects
(optional)</p></li>
<li><p><strong>kwargs</strong> – all AND filter criteria</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new MDataFrame with the filter applied</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.query_inplace">
<code class="sig-name descname">query_inplace</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.query_inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>filters this MDataFrame and returns it.</p>
<p>Any subsequent operation on the dataframe will have the filter
applied. To reset the filter call .reset() without arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – a Q object or logical combination of Q objects
(optional)</p></li>
<li><p><strong>kwargs</strong> – all AND filter criteria</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#omegaml.mdataframe.MSeries.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>return shape of dataframe</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.skip">
<code class="sig-name descname">skip</code><span class="sig-paren">(</span><em class="sig-param">topn</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.skip" title="Permalink to this definition">¶</a></dt>
<dd><p>skip the topn number of rows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>topn</strong> – the number of rows to skip.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.sort">
<code class="sig-name descname">sort</code><span class="sig-paren">(</span><em class="sig-param">columns</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>sort by specified columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>columns</strong> – str of single column or a list of columns. Sort order
is specified as the + (ascending) or - (descending)
prefix to the column name. Default sort order is
ascending.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the MDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.tail">
<code class="sig-name descname">tail</code><span class="sig-paren">(</span><em class="sig-param">limit=10</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.tail" title="Permalink to this definition">¶</a></dt>
<dd><p>return up to limit number of rows from last inserted values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>limit</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.unique">
<code class="sig-name descname">unique</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MSeries.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>return the unique set of values for the series</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MSeries.value">
<em class="property">property </em><code class="sig-name descname">value</code><a class="headerlink" href="#omegaml.mdataframe.MSeries.value" title="Permalink to this definition">¶</a></dt>
<dd><p>return the value of the series</p>
<p>this is a Series unless unique() was called. If unique()
only distinct values are returned as an array, matching
the behavior of a Series</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mdataframe.MGrouper">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mdataframe.</code><code class="sig-name descname">MGrouper</code><span class="sig-paren">(</span><em class="sig-param">mdataframe</em>, <em class="sig-param">collection</em>, <em class="sig-param">columns</em>, <em class="sig-param">sort=True</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MGrouper" title="Permalink to this definition">¶</a></dt>
<dd><p>a Grouper for MDataFrames</p>
<dl class="method">
<dt id="omegaml.mdataframe.MGrouper.agg">
<code class="sig-name descname">agg</code><span class="sig-paren">(</span><em class="sig-param">specs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MGrouper.agg" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut for .aggregate</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MGrouper.aggregate">
<code class="sig-name descname">aggregate</code><span class="sig-paren">(</span><em class="sig-param">specs</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MGrouper.aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>aggregate by given specs</p>
<p>See the following link for a list of supported operations.
<a class="reference external" href="https://docs.mongodb.com/manual/reference/operator/aggregation/group/">https://docs.mongodb.com/manual/reference/operator/aggregation/group/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>specs</strong> – a dictionary of { column : function | list[functions] }
pairs.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mdataframe.MGrouper.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MGrouper.count" title="Permalink to this definition">¶</a></dt>
<dd><p>return counts by group columns</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mdataframe.MLocIndexer">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mdataframe.</code><code class="sig-name descname">MLocIndexer</code><span class="sig-paren">(</span><em class="sig-param">mdataframe</em>, <em class="sig-param">positional=False</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MLocIndexer" title="Permalink to this definition">¶</a></dt>
<dd><p>implements the LocIndexer for MDataFrames</p>
<dl class="method">
<dt id="omegaml.mdataframe.MLocIndexer.__getitem__">
<code class="sig-name descname">__getitem__</code><span class="sig-paren">(</span><em class="sig-param">specs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MLocIndexer.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>access by index</p>
<p>use as mdf.loc[specs] where specs is any of</p>
<ul class="simple">
<li><p>a list or tuple of scalar index values, e.g. .loc[(1,2,3)]</p></li>
<li><p>a slice of values e.g. .loc[1:5]</p></li>
<li><p>a list of slices, e.g. .loc[1:5, 2:3]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the sliced part of the MDataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mdataframe.MPosIndexer">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mdataframe.</code><code class="sig-name descname">MPosIndexer</code><span class="sig-paren">(</span><em class="sig-param">mdataframe</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mdataframe.MPosIndexer" title="Permalink to this definition">¶</a></dt>
<dd><p>implements the position-based indexer for MDataFrames</p>
</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyContext">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyContext</code><span class="sig-paren">(</span><em class="sig-param">caller</em>, <em class="sig-param">columns=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable apply functions</p>
<p>.apply(fn) will call fn(ctx) where ctx is an ApplyContext.
The context supports methods to apply functions in a Pandas-style apply manner. ApplyContext is extensible
by adding an extension class to defaults.OMEGA_MDF_APPLY_MIXINS.</p>
<p>Note that unlike a Pandas DataFrame, ApplyContext does not itself contain any data.
Rather it is part of an expression tree, i.e. the aggregation pipeline. Thus any
expressions applied are translated into operations on the expression tree. The expression
tree is evaluated on MDataFrame.value, at which point the ApplyContext nor the function
that created it are active.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mdf.apply(lambda v: v * 5 ) =&gt; multiply every column in dataframe
mdf.apply(lambda v: v[&#39;foo&#39;].dt.week) =&gt; get week of date for column foo
mdf.apply(lambda v: dict(a=v[&#39;foo&#39;].dt.week,
                         b=v[&#39;bar&#39;] * 5) =&gt; run multiple pipelines and get results

The callable passed to apply can be any function. It can either return None,
the context passed in or a list of pipeline stages.

# apply any of the below functions
mdf.apply(customfn)

# same as lambda v: v.dt.week
def customfn(ctx):
    return ctx.dt.week

# simple pipeline
def customfn(ctx):
    ctx.project(x={&#39;$multiply: [&#39;$x&#39;, 5]})
    ctx.project(y={&#39;$divide: [&#39;$x&#39;, 2]})

# complex pipeline
def customfn(ctx):
    return [
        { &#39;$match&#39;: ... },
        { &#39;$project&#39;: ... },
    ]
</pre></div>
</div>
<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyContext.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">stage</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyContext.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a processing stage to the pipeline</p>
<p>see <a class="reference external" href="https://docs.mongodb.com/manual/meta/aggregation-quick-reference/">https://docs.mongodb.com/manual/meta/aggregation-quick-reference/</a></p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyContext.groupby">
<code class="sig-name descname">groupby</code><span class="sig-paren">(</span><em class="sig-param">by</em>, <em class="sig-param">expr=None</em>, <em class="sig-param">append=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyContext.groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>add a groupby accumulation using $group</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>by</strong> – the groupby columns, if provided as a list will be transformed</p></li>
<li><p><strong>expr</strong> – </p></li>
<li><p><strong>append</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyContext.project">
<code class="sig-name descname">project</code><span class="sig-paren">(</span><em class="sig-param">expr=None</em>, <em class="sig-param">append=False</em>, <em class="sig-param">keep=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyContext.project" title="Permalink to this definition">¶</a></dt>
<dd><p>add a projection using $project</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> – the column-operator mapping</p></li>
<li><p><strong>append</strong> – if True add a $project stage, otherwise add to existing</p></li>
<li><p><strong>kwargs</strong> – if expr is None, the column-operator mapping as kwargs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ApplyContext</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyArithmetics">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyArithmetics</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyArithmetics" title="Permalink to this definition">¶</a></dt>
<dd><p>Math operators for ApplyContext</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">__mul__</span></code> (*)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__add__</span></code> (+)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__sub__</span></code> (-)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__div__</span></code> (/)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__floordiv__</span></code> (//)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__mod__</span></code> (%)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__pow__</span></code> (pow)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__ceil__</span></code> (ceil)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__floor__</span></code> (floor)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__trunc__</span></code> (trunc)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">__abs__</span></code> (abs)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">sqrt</span></code> (math.sqrt)</p></li>
</ul>
<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyArithmetics.sqrt">
<code class="sig-name descname">sqrt</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyArithmetics.sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>square root</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyDateTime">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyDateTime</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime operators for ApplyContext</p>
<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.day">
<em class="property">property </em><code class="sig-name descname">day</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.day" title="Permalink to this definition">¶</a></dt>
<dd><p>dayOfMonth</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.dayofweek">
<em class="property">property </em><code class="sig-name descname">dayofweek</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.dayofweek" title="Permalink to this definition">¶</a></dt>
<dd><p>dayOfWeek</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.dayofyear">
<em class="property">property </em><code class="sig-name descname">dayofyear</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.dayofyear" title="Permalink to this definition">¶</a></dt>
<dd><p>dayOfYear</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.hour">
<em class="property">property </em><code class="sig-name descname">hour</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.hour" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.millisecond">
<em class="property">property </em><code class="sig-name descname">millisecond</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.millisecond" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.minute">
<em class="property">property </em><code class="sig-name descname">minute</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.minute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.month">
<em class="property">property </em><code class="sig-name descname">month</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.month" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.second">
<em class="property">property </em><code class="sig-name descname">second</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.second" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.week">
<em class="property">property </em><code class="sig-name descname">week</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.week" title="Permalink to this definition">¶</a></dt>
<dd><p>isoWeek</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyDateTime.year">
<em class="property">property </em><code class="sig-name descname">year</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyDateTime.year" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyString">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyString</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString" title="Permalink to this definition">¶</a></dt>
<dd><p>String operators</p>
<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.concat">
<code class="sig-name descname">concat</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.concat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.index" title="Permalink to this definition">¶</a></dt>
<dd><p>indexOfBytes</p>
</dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.split" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.strcasecmp">
<code class="sig-name descname">strcasecmp</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.strcasecmp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.substr">
<code class="sig-name descname">substr</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.substr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="omegaml.mixins.mdf.ApplyString.usplit">
<code class="sig-name descname">usplit</code><span class="sig-paren">(</span><em class="sig-param">other</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.mixins.mdf.ApplyString.usplit" title="Permalink to this definition">¶</a></dt>
<dd><p>split</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="omegaml.mixins.mdf.ApplyAccumulators">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.mixins.mdf.</code><code class="sig-name descname">ApplyAccumulators</code><a class="headerlink" href="#omegaml.mixins.mdf.ApplyAccumulators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Backends:</p>
<dl class="class">
<dt id="omegaml.backends.sqlalchemy.SQLAlchemyBackend">
<em class="property">class </em><code class="sig-prename descclassname">omegaml.backends.sqlalchemy.</code><code class="sig-name descname">SQLAlchemyBackend</code><span class="sig-paren">(</span><em class="sig-param">model_store=None</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.sqlalchemy.SQLAlchemyBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>sqlalchemy plugin for omegaml</p>
<dl>
<dt>Usage:</dt><dd><p># define your sqlalchemy connection
sqlalchemy_constr = f’sqlalchemy://{user}:{password}&#64;{account}/’</p>
<p>Store in any of three ways:</p>
<p># – just the connection
om.datasets.put(sqlalchemy_constr, ‘mysqlalchemy’)
om.datasets.get(‘mysqlalchemy’)
=&gt; the sql connection object</p>
<p># – store connection with a predefined sql
om.datasets.put(sqlalchemy_constr, ‘mysqlalchemy’, sql=’select ….’)
om.datasets.get(‘mysqlalchemy’)
=&gt; will return a pandas dataframe. specify chunksize to return an interable of dataframes</p>
<p># – predefined sqls can contain variables to be resolved at access time
#    if you miss to specify required variables in sqlvars, a KeyError is raised
om.datasets.put(sqlaclhemy_constr, ‘myview’, sql=’select … from col=”{var}”’)
om.datasets.get(‘mysqlalchemy’, sqlvars=dict(var=”value”))</p>
<p>Copy to an omega dataset from the connection</p>
<p># – copy the result of the sqlalchemy query to omegaml
om.datasets.put(sqlalchemy_constr, ‘mysqlalchemy’, sql=’select …’, copy=True)
om.datasets.get(‘mysqlalchemy’)
=&gt; will return a pandas dataframe (without executing any additional queries)
=&gt; can also use with om.datasets.getl(‘mysqlalchemy’) to return a MDataFrame</p>
<p>Insert data via the connection</p>
<p># – store data back through the connection
om.datasets.put(sqlalchemy_constr, ‘mysqlalchemy’)
om.datasets.put(df, ‘mysqlalchemy’, table=’SOMETABLE’)</p>
<p>Connection strings can contain variables, e.g. userid and password.
By default variables are resolved from the os environment. Can also
specify using any dict.</p>
<p># – use connection string with variables
sqlalchemy_constr = ‘sqlite:///{dbname}.db’
om.datasets.put(sqlalchemy_constr, ‘userdb’)
om.datasets.get(‘userdb’, secrets=dict(dbname=’chuckdb’))</p>
<p># – alternatively, create a vault dataset:
secrets = dict(userid=’chuck’, dbname=’chuckdb’)
om.datasets.put(secrets, ‘_omega/vault’)
om.datasets.get(‘userdb’)</p>
<p>the ‘_omega/vault’ dataset will be queried using the current userid as
the secret name,ad the dbname retrieved from the document. This is
experimental and the vault is not encrypted.</p>
</dd>
</dl>
<p>Advanced:</p>
<blockquote>
<div><p>om.datasets.put() supports the following additional keyword arguments</p>
<dl class="simple">
<dt>chunksize=int   specify the number of rows to read from sqlalchemy in one chunk.</dt><dd><p>defaults to 10000</p>
</dd>
<dt>parse_dates=[‘col’, …] list of column names to parse for date, time or datetime.</dt><dd><p>see pd.read_sql for details</p>
</dd>
<dt>transform=callable  a callable, is passed the DataFrame of each chunk before it</dt><dd><p>is inserted into the database. use to provide custom transformations.
only works on copy=True</p>
</dd>
</dl>
<p>as well as other kwargs supported by pd.read_sql</p>
</div></blockquote>
<dl class="method">
<dt id="omegaml.backends.sqlalchemy.SQLAlchemyBackend.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">sql=None</em>, <em class="sig-param">chunksize=None</em>, <em class="sig-param">raw=False</em>, <em class="sig-param">sqlvars=None</em>, <em class="sig-param">secrets=None</em>, <em class="sig-param">index=True</em>, <em class="sig-param">keep=False</em>, <em class="sig-param">lazy=False</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.sqlalchemy.SQLAlchemyBackend.get" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieve connection or query data from connection</p>
<dl>
<dt>Args:</dt><dd><p>name (str): the name of the connection
secrets (dict): dict to resolve variables in the connection string
keep (bool): if True connection is kept open.</p>
</dd>
<dt>Query data, specify sql=’select …’:</dt><dd><p>sql (str): the sql query, defaults to the query specific on .put()
chunksize (int): the number of records for each chunk, if</p>
<blockquote>
<div><p>specified returns an iterator</p>
</div></blockquote>
<p>sqlvars (dict): optional, if specified will be used to format sql</p>
</dd>
<dt>Get connection:</dt><dd><p>raw (bool): the raw sql alchemy connection</p>
</dd>
<dt>To reuse connections:</dt><dd><p>specify keep=True. Note this is potentially unsafe in a multi-user
environment where connection strings contain user-specific secrets.
If you want to always keep connections open, specify
om.datasets.defaults.SQLALCHEMY_ALWAYS_CACHE=True</p>
</dd>
<dt>Returns:</dt><dd><p>connection or pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.sqlalchemy.SQLAlchemyBackend.put">
<code class="sig-name descname">put</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">sql=None</em>, <em class="sig-param">copy=False</em>, <em class="sig-param">append=True</em>, <em class="sig-param">chunksize=None</em>, <em class="sig-param">transform=None</em>, <em class="sig-param">table=None</em>, <em class="sig-param">attributes=None</em>, <em class="sig-param">insert=False</em>, <em class="sig-param">secrets=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.sqlalchemy.SQLAlchemyBackend.put" title="Permalink to this definition">¶</a></dt>
<dd><p>store sqlalchemy connection or data into an existing connection</p>
<dl>
<dt>Args:</dt><dd><p>obj (str|pd.DataFrame): the sqlalchemy connection string or a dataframe object
name (str): the name of the object
table (str): optional, if specified is stored along connection
sql (str): optional, if specified is stored along connection
copy (bool): optional, if True the connection is queried using sql and the resulting data is stored instead,</p>
<blockquote>
<div><p>see Copying</p>
</div></blockquote>
<p>attributes (dict): optional, set or update metadata.attributes</p>
</dd>
<dt>Copying data, specify copy=True:</dt><dd><p>sql (str): sql to query
append (bool): if True the data is appended if exists already
chunksize (int): number of records to use
transform (callable): passed as DataFrame.to_sql(method=)</p>
</dd>
<dt>Inserting via connection, specify insert=True:</dt><dd><p>insert (bool): specify True to insert via connection
table (str): the table name to use for inserting data
append (bool): if False will replace any existing table</p>
</dd>
<dt>Returns:</dt><dd><p>metadata</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="omegaml.backends.sqlalchemy.SQLAlchemyBackend.supports">
<em class="property">classmethod </em><code class="sig-name descname">supports</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">name</em>, <em class="sig-param">insert=False</em>, <em class="sig-param">data_store=None</em>, <em class="sig-param">model_store=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#omegaml.backends.sqlalchemy.SQLAlchemyBackend.supports" title="Permalink to this definition">¶</a></dt>
<dd><p>test if this backend supports this obj</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developer.html" class="btn btn-neutral float-right" title="Developer API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 (c) omegaml.io by one2seven GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>