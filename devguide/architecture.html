

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Architecture &mdash; omega|ml 1.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="omega|ml 1.1 documentation" href="../index.html"/>
        <link rel="up" title="Development Guide" href="index.html"/>
        <link rel="next" title="Custom development" href="custom.html"/>
        <link rel="prev" title="Development Guide" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> omega|ml
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Development Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#why-omega-ml">Why omega|ml</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extensibility">Extensibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-omega-ml-works">How omega|ml works</a></li>
<li class="toctree-l3"><a class="reference internal" href="#core-components">Core components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enterprise-edition">Enterprise Edition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optional-components">Optional components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#third-party-dependencies">Third-party dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#positioning-omega-ml">Positioning omega|ml</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="custom.html">Custom development</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="storage.html">Storage backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixins.html">Mixins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nb/index.html">Tutorial Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">omega|ml</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Development Guide</a> &raquo;</li>
        
      <li>Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/devguide/architecture.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="architecture">
<h1><a class="toc-backref" href="#id1">Architecture</a><a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#architecture" id="id1">Architecture</a></p>
<ul>
<li><p><a class="reference internal" href="#why-omega-ml" id="id2">Why omega|ml</a></p></li>
<li><p><a class="reference internal" href="#extensibility" id="id3">Extensibility</a></p></li>
<li><p><a class="reference internal" href="#how-omega-ml-works" id="id4">How omega|ml works</a></p></li>
<li><p><a class="reference internal" href="#core-components" id="id5">Core components</a></p></li>
<li><p><a class="reference internal" href="#enterprise-edition" id="id6">Enterprise Edition</a></p></li>
<li><p><a class="reference internal" href="#optional-components" id="id7">Optional components</a></p></li>
<li><p><a class="reference internal" href="#third-party-dependencies" id="id8">Third-party dependencies</a></p></li>
<li><p><a class="reference internal" href="#positioning-omega-ml" id="id9">Positioning omega|ml</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="why-omega-ml">
<h2><a class="toc-backref" href="#id2">Why omega|ml</a><a class="headerlink" href="#why-omega-ml" title="Permalink to this headline">¶</a></h2>
<p>A typical data science workflow consists of the following core steps:</p>
<ol class="arabic simple">
<li><p>acquire data &amp; store for subsequent processes</p></li>
<li><p>clean data &amp; publish for uses</p></li>
<li><p>train &amp; evaluate models</p></li>
<li><p>publish models &amp; reports</p></li>
<li><p>execute prediction using previously trained models</p></li>
</ol>
<p>In any production scenario, each step requires a scalable storage to store raw and cleaned data, models and
APIs to execute models. You will also need a compute cluster that is easy to access and provides all the
required packages. Engineering such a system from scratch is hard, takes considerable time and skills. omega|ml
provides all of this in an integrated, scalable fashion.</p>
<p>omega|ml provides</p>
<ul class="simple">
<li><p>the central storage for data and models, using MongoDB as the highly-scalable storage provider</p></li>
<li><p>a client API to out-of-core data processing that follows Pandas semantics</p></li>
<li><p>a client API to models that follows scikit-learn semantics, integrating scikit-learn and Apache Spark models</p></li>
<li><p>an integrated compute cluster runtime to train and execute models, as well as to execute arbitrary scripts and
automatically publish reports</p></li>
<li><p>a sophisticated REST API to data, models, scripts and runtime</p></li>
<li><p>a user interface to access information on all of the above</p></li>
</ul>
</div>
<div class="section" id="extensibility">
<h2><a class="toc-backref" href="#id3">Extensibility</a><a class="headerlink" href="#extensibility" title="Permalink to this headline">¶</a></h2>
<p>With the exception of the REST API, all of the above are easily extensible using mixins.</p>
<p>In addition, omemgal provides interfaces to existing compute clusters like Anaconda’s Distributed and
Apache Spark. omega|ml also provides an extensible framework to add custom backends and compute clusters
through a common API.</p>
<p>Thanks to extensibility at the core of the architecture, omega|ml can easily accommodate any third-party storage
or machine learning backend, or add new types of operations on data and models.</p>
</div>
<div class="section" id="how-omega-ml-works">
<h2><a class="toc-backref" href="#id4">How omega|ml works</a><a class="headerlink" href="#how-omega-ml-works" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>data is stored via the <code class="code docutils literal notranslate"><span class="pre">datasets.put</span></code> API. <code class="code docutils literal notranslate"><span class="pre">datasets.put</span></code>
supports native Python objects like dicts and lists, Pandas DataFrames
and Series, numpy arrays as well as externally stored files that are
accessible through http, ftp or stored on cloud services like Amazon’s s3.
Other datatypes can be easily added by a custom data backend.</p></li>
<li><p>machine learning models are stored via the <code class="code docutils literal notranslate"><span class="pre">models.put</span></code> API.
<code class="code docutils literal notranslate"><span class="pre">models.put</span></code> supports scikit-learn and Spark mllib models. Other
machine learning frameworks can be easily added by a custom model backend.</p></li>
<li><p>jobs (custom python scripts in the form of Jupyter notebooks) are stored
via the <code class="code docutils literal notranslate"><span class="pre">jobs.put</span></code> API.</p></li>
<li><p>the runtime cluster and any other authorized user can access the data
models and jobs through the <code class="code docutils literal notranslate"><span class="pre">datasets.get</span></code>, <code class="code docutils literal notranslate"><span class="pre">models.get</span></code> and
<code class="code docutils literal notranslate"><span class="pre">jobs.get</span></code> methods, respectively. Using this common API any compute
job e.g. to train a model can directly access the relevant data without
the need to transfer the data to the worker instance first.</p></li>
</ul>
<p>omega|ml is composed of the following main components:</p>
</div>
<div class="section" id="core-components">
<h2><a class="toc-backref" href="#id5">Core components</a><a class="headerlink" href="#core-components" title="Permalink to this headline">¶</a></h2>
<p>The core components provide the storage for data and models. Models can
be trained locally and stored in the cluster for prediction via the REST
API.</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">Omega</span></code> - the main API and programming interface to omega|ml</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">OmegaStore</span></code> - the storage for data and models</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">OmegaRuntime</span></code> - the celery runtime cluster to train and execute models and jobs</p></li>
</ul>
</div>
<div class="section" id="enterprise-edition">
<h2><a class="toc-backref" href="#id6">Enterprise Edition</a><a class="headerlink" href="#enterprise-edition" title="Permalink to this headline">¶</a></h2>
<p>The omega|ml Enterprise Edition provides a full integrated, enterprise-scale data science platform as a service.
It is the best match for a multi-user environment with enterprise features and an extended set of functionality.</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">security</span> <span class="pre">features</span></code> - security features covering all components (REST API, MongoDB, RabbitMQ etc.)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">omegajobs</span></code> - JupyterHub with per-user Notebooks</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">omegapkg</span></code> - Lambda functions</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">omegaweb</span></code> - the REST API, web interface and dashboard</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">omegaops</span></code> - the operations API</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">omegacli</span></code> - client components to the REST API</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">omegastream</span></code> - Python native Streaming API</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">OmegaRuntimeDask</span></code> - the dask distributed runtime cluster to execute models and jobs</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">SparkBackend</span></code> - the Apache Spark mllib backend implementation</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">custom</span> <span class="pre">mixins</span></code> - custom storage mixins to process data</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">custom</span> <span class="pre">backends</span></code> - custom storage backends to third-party storage</p></li>
</ul>
</div>
<div class="section" id="optional-components">
<h2><a class="toc-backref" href="#id7">Optional components</a><a class="headerlink" href="#optional-components" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">omegaetl</span></code> - the distributed ETL engine to run ETL jobs on the cluster</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">workit</span></code> - the distributed scheduler for large-scale job management</p></li>
</ul>
</div>
<div class="section" id="third-party-dependencies">
<h2><a class="toc-backref" href="#id8">Third-party dependencies</a><a class="headerlink" href="#third-party-dependencies" title="Permalink to this headline">¶</a></h2>
<p>omega|ml depends on the following third-party products (all open source):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.mongodb.com/">MongoDB</a> - the highly scalable NoSQL database, ideal for data science workloads</p></li>
<li><p><a class="reference external" href="https://www.rabbitmq.com/">RabbitMQ</a> - the most-widely used open source message broker</p></li>
<li><p><a class="reference external" href="http://www.celeryproject.org/">Celery</a> - the efficient and highly-throughput Distributed Task Queue for Python applications</p></li>
<li><p><a class="reference external" href="https://www.anaconda.com/what-is-anaconda/">Anaconda</a> - the most popular Python Data Science Distribution</p></li>
<li><p><a class="reference external" href="https://dev.mysql.com/">MySQL</a> - the world’s most popular open source database, backed by Oracle</p></li>
</ul>
<p>Note that omegaml’s license does not include the above products. However,
omega|ml provides the required docker build instructions to download,
install and configure these applications for use with omegaml.</p>
<p>A number of smaller third-party components in the Python ecosystem are used
in omegaml. Refer to the LICENSES file for details.</p>
</div>
<div class="section" id="positioning-omega-ml">
<h2><a class="toc-backref" href="#id9">Positioning omega|ml</a><a class="headerlink" href="#positioning-omega-ml" title="Permalink to this headline">¶</a></h2>
<p>The core focus of omega|ml is to enable enterprise-grade application integration
of data science workflows, at scale. While the following products provide specific elements
for application integration and also integrate directly with omegaml, none of
them provide the simplicity of the omega|ml API and the versatility of its standard and
extensible backends.</p>
<ul class="simple">
<li><p><em>Apache Spark</em> - Spark is a JVM-based distributed compute cluster based on
a in-memory data layer spread across the cluster. Spark is great if you
rely on Scala or other JVM languages and have a Hadoop file system ready
to store data in a native format. While there is a Python API, PySpark, it
is relatively cumbersome and complex to use. Most importantly, Spark does
not have support for scikit-learn models nor does it provide an enterprise-
ready REST API. omega|ml provides the <code class="code docutils literal notranslate"><span class="pre">SparkBackend</span></code> to integate with
an existing Spark Cluster, providing the same easy API to Spark, shielding
users from the complexities and pitfalls of the PySpark API.</p></li>
<li><p><em>Anaconda Dask Distributed</em> - Dask Distributed is Anaconda’s answer to
Spark in the Python ecosystem. Fully implemented in Python, Dask Distributed
is a great additition to any Python-based data science workflow. However,
very much like Apache Spark, Dask Distributed also does not provide an
integration API nor does it provide persistent storage, neither for data
nor for models. omega|ml provides a runtime implementation that integrates
directly with a Dask Distributed cluster, making it easy and straight forward
to use its power while keeping the advantage of omegaml’s API and flexibility.</p></li>
<li><p><em>mlflow</em> - ML Flow provides tools for packaging and deploying models as a
software component. While this is a good approach if there one or a few models
in an organization, it does not solve the underlying meta data and management
issues. omega|ml provides a platform, not just model packaging. In a future
release omega|ml might make use of mlflow features for model packaging and
serve as a deployment backend.</p></li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="custom.html" class="btn btn-neutral float-right" title="Custom development" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Development Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 (c) omegaml.io by one2seven GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>